<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="Gunnar Hillert">
<title>Coherence Spring Reference Documentation</title>
<link rel="stylesheet" href="css/spring.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
.hidden {
	display: none;
}

.switch {
	border-width: 1px 1px 0 1px;
	border-style: solid;
	border-color: #7a2518;
	display: inline-block;
}

.switch--item {
	padding: 10px;
	background-color: #ffffff;
	color: #7a2518;
	display: inline-block;
	cursor: pointer;
}

.switch--item:not(:first-child) {
	border-width: 0 0 0 1px;
	border-style: solid;
	border-color: #7a2518;
}

.switch--item.selected {
	background-color: #7a2519;
	color: #ffffff;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script type="text/javascript">
function addBlockSwitches() {
	$('.primary').each(function() {
		primary = $(this);
		createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
		primary.children('.title').remove();
	});
	$('.secondary').each(function(idx, node) {
		secondary = $(node);
		primary = findPrimary(secondary);
		switchItem = createSwitchItem(secondary, primary.children('.switch'));
		switchItem.content.addClass('hidden');
		findPrimary(secondary).append(switchItem.content);
		secondary.remove();
	});
}

function createBlockSwitch(primary) {
	blockSwitch = $('<div class="switch"></div>');
	primary.prepend(blockSwitch);
	return blockSwitch;
}

function findPrimary(secondary) {
	candidate = secondary.prev();
	while (!candidate.is('.primary')) {
		candidate = candidate.prev();
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	blockName = block.children('.title').text();
	content = block.children('.content').first().append(block.next('.colist'));
	item = $('<div class="switch--item">' + blockName + '</div>');
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

function globalSwitch() {
	$('.switch--item').each(function() {
		var blockId = blockIdForSwitchItem($(this));
		$(this).off('click');
		$(this).on('click', function() {
			selectedText = $(this).text()
			window.localStorage.setItem(blockId, selectedText);
			$(".switch--item").filter(function() {
				return blockIdForSwitchItem($(this)) === blockId;
			}).filter(function() {
				return $(this).text() === selectedText;
			}).each(function() {
				select($(this))
			});
		});
		if ($(this).text() === window.localStorage.getItem(blockId)) {
			select($(this))
		}
	});
}

function blockIdForSwitchItem(item) {
	idComponents = []
	idComponents.push(item.text().toLowerCase());
	item.siblings(".switch--item").each(function(index, sibling) {
		idComponents.push($(sibling).text().toLowerCase());
	});
	return idComponents.sort().join("-")
}

function select(selected) {
	selected.addClass('selected');
	selected.siblings().removeClass('selected');
	selectedContent = selected.parent().siblings(".content").eq(selected.index())
	selectedContent.removeClass('hidden');
	selectedContent.siblings().addClass('hidden');
}

$(addBlockSwitches);
$(globalSwitch);

</script>

</head>
<body id="coherence-spring-reference-documentation" class="book toc2 toc-left">
<div id="header">
<h1>Coherence Spring Reference Documentation</h1>
<div class="details">
<span id="author" class="author">Gunnar Hillert</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#legal">Legal</a></li>
<li><a href="#coherence-spring-documentation">1. Coherence Spring Documentation</a>
<ul class="sectlevel2">
<li><a href="#about">1.1. About the Documentation</a></li>
<li><a href="#getting-help">1.2. Getting Help</a></li>
<li><a href="#news">1.3. What is new?</a></li>
<li><a href="#first-steps">1.4. First Steps</a></li>
</ul>
</li>
<li><a href="#quickstart">2. Quickstart</a>
<ul class="sectlevel2">
<li><a href="#how-to-run-the-demo">2.1. How to Run the Demo</a></li>
<li><a href="#interacting-with-the-cache">2.2. Interacting with the Cache</a></li>
<li><a href="#behind-the-scenes">2.3. Behind the Scenes</a></li>
</ul>
</li>
<li><a href="#coherence-spring">3. Coherence Spring Core</a>
<ul class="sectlevel2">
<li><a href="#coherence-spring-introduction">3.1. Getting Started</a></li>
<li><a href="#coherence-spring-botstrap">3.2. Bootstrapping Coherence</a></li>
<li><a href="#coherence-spring-botstrap-with-default-session">3.3. Using the Default Session</a></li>
<li><a href="#coherence-spring-botstrap-with-multiple-session">3.4. Configure Multiple Sessions</a></li>
<li><a href="#coherence-spring-botstrap-session-config-properties">3.5. Session Configuration Properties</a></li>
<li><a href="#coherence-spring-events">3.6. Events</a>
<ul class="sectlevel3">
<li><a href="#coherence-spring-events-mapevent-listeners">3.6.1. MapEvent Listeners</a>
<ul class="sectlevel4">
<li><a href="#mapevent-observer-methods">3.6.1.1. MapEvent Observer Methods</a></li>
<li><a href="#coherence-spring-events-mapevent-listeners-specific-events">3.6.1.2. Receive Specific Event Types</a></li>
<li><a href="#coherence-spring-events-mapevent-listeners-filtering-events">3.6.1.3. Filtering Events</a></li>
<li><a href="#coherence-spring-events-mapevent-listeners-transforming-events">3.6.1.4. Transforming Events</a></li>
</ul>
</li>
<li><a href="#coherence-spring-events-event-interceptors">3.6.2. Coherence Event Interceptors</a>
<ul class="sectlevel4">
<li><a href="#event-types">3.6.2.1. Event Types</a></li>
<li><a href="#coherence-lifecycle-events">3.6.2.2. Coherence Lifecycle Events</a></li>
<li><a href="#session-lifecycle-events">3.6.2.3. Session Lifecycle Events</a></li>
<li><a href="#configurablecachefactory-lifecycle-events">3.6.2.4. ConfigurableCacheFactory Lifecycle Events</a></li>
<li><a href="#cache-lifecycle-events">3.6.2.5. Cache Lifecycle Events</a></li>
<li><a href="#entry-events">3.6.2.6. Entry Events</a></li>
<li><a href="#entryprocessor-events">3.6.2.7. EntryProcessor Events</a></li>
<li><a href="#partition-level-transaction-events">3.6.2.8. Partition Level Transaction Events</a></li>
<li><a href="#partition-transfer-events">3.6.2.9. Partition Transfer Events</a></li>
<li><a href="#unsolicited-commit-events">3.6.2.10. Unsolicited Commit Events</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#coherence-spring-filter-binding-annotations">3.7. Filter Binding Annotations</a>
<ul class="sectlevel3">
<li><a href="#create-the-filter-binding-annotation">3.7.1. Create the filter binding annotation</a></li>
<li><a href="#create-the-filterfactory">3.7.2. Create the <code>FilterFactory</code></a></li>
<li><a href="#annotate-the-injection-point">3.7.3. Annotate the Injection Point</a></li>
</ul>
</li>
<li><a href="#coherence-spring-extractor-binding-annotations">3.8. Extractor Binding Annotations</a>
<ul class="sectlevel3">
<li><a href="#create-the-extractor-binding-annotation">3.8.1. Create the extractor binding annotation</a></li>
<li><a href="#create-the-extractorfactory">3.8.2. Create the <code>ExtractorFactory</code></a></li>
<li><a href="#annotate-the-injection-point-2">3.8.3. Annotate the Injection Point</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#spring-cache">4. Coherence Spring Cache</a>
<ul class="sectlevel2">
<li><a href="#spring-cache-introduction">4.1. Introduction</a></li>
<li><a href="#spring-cache-configuration">4.2. Configuring Coherence Cache for Spring</a></li>
</ul>
</li>
<li><a href="#spring-session">5. Coherence Spring Session</a>
<ul class="sectlevel2">
<li><a href="#spring-session-introduction">5.1. Getting Started</a></li>
</ul>
</li>
<li><a href="#spring-data">6. Coherence Spring Data</a>
<ul class="sectlevel2">
<li><a href="#spring-data-introduction">6.1. Getting Started</a></li>
</ul>
</li>
<li><a href="#spring-boot">7. Coherence Spring Boot</a>
<ul class="sectlevel2">
<li><a href="#spring-boot-getting-started">7.1. Getting Started</a></li>
<li><a href="#spring-boot-using-coherence">7.2. Using Coherence with Spring Boot</a></li>
<li><a href="#spring-boot-customize-coherence">7.3. Customize Coherence</a></li>
<li><a href="#spring-boot-config-data-api">7.4. Coherence Support of the Spring Boot ConfigData API</a></li>
<li><a href="#spring-boot-caching">7.5. Using Coherence as Spring Caching Provider</a></li>
</ul>
</li>
<li><a href="#spring-cloud-config">8. Coherence Spring Cloud Config</a>
<ul class="sectlevel2">
<li><a href="#spring-cloud-config-overview">8.1. Overview</a></li>
<li><a href="#spring-cloud-config-demo">8.2. Demo</a>
<ul class="sectlevel3">
<li><a href="#spring-cloud-config-demo-setup">8.2.1. Configure the Demo Application</a></li>
<li><a href="#spring-cloud-config-demo-how-to-run">8.2.2. Run the Demo Application</a></li>
</ul>
</li>
<li><a href="#spring-cloud-config-coherence">8.3. Use Spring Cloud Config Server to Configure Coherence</a></li>
<li><a href="#spring-cloud-config-coherence-as-backend">8.4. Coherence as Spring Cloud Config Server Backend</a></li>
</ul>
</li>
<li><a href="#appendix">9. Appendices</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Version 3.0.0-SNAPSHOT</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="legal"><a class="anchor" href="#legal"></a>Legal</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Oracle licenses the Oracle Coherence Spring project under the
<a href="https://oss.oracle.com/licenses/upl/">The Universal Permissive License (UPL), Version 1.0</a>.</p>
</div>
<div class="paragraph">
<p><strong>The Universal Permissive License (UPL), Version 1.0</strong></p>
</div>
<div class="paragraph">
<p>Subject to the condition set forth below, permission is hereby granted to any
person obtaining a copy of this software, associated documentation and/or data
(collectively the "Software"), free of charge and under any and all copyright
rights in the Software, and any and all patent rights owned or freely
licensable by each licensor hereunder covering either (i) the unmodified
Software as contributed to or provided by such licensor, or (ii) the Larger
Works (as defined below), to deal in both</p>
</div>
<div class="paragraph">
<p>(a) the Software, and
(b) any piece of software and/or hardware listed in the lrgrwrks.txt file if
one is included with the Software (each a "Larger Work" to which the Software
is contributed by such licensors),</p>
</div>
<div class="paragraph">
<p>without restriction, including without limitation the rights to copy, create
derivative works of, display, perform, and distribute the Software and make,
use, sell, offer for sale, import, export, have made, and have sold the
Software and the Larger Work(s), and to sublicense the foregoing rights on
either these or other terms.</p>
</div>
<div class="paragraph">
<p>This license is subject to the following condition:
The above copyright notice and either this complete permission notice or at
a minimum a reference to the UPL must be included in all copies or
substantial portions of the Software.</p>
</div>
<div class="paragraph">
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coherence-spring-documentation"><a class="anchor" href="#coherence-spring-documentation"></a>1. Coherence Spring Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the reference documentation of <a href="https://github.com/coherence-community/coherence-spring/">Coherence Spring</a>, a collection of libraries that will
help you to integrate <a href="https://coherence.community/">Oracle Coherence</a> with the wider <a href="https://spring.io/">Spring</a> ecosystem.</p>
</div>
<div class="paragraph">
<p><a href="https://coherence.community/">Oracle Coherence</a> is a scalable, fault-tolerant, cloud-ready, distributed platform for building
grid-based applications and reliably storing data. The product is used at scale, for both compute and raw storage, in a
vast array of industries such as critical financial trading systems, high performance telecommunication products and
e-commerce applications.</p>
</div>
<div class="paragraph">
<p>Coherence Spring features dedicated support to bootstrap Oracle Coherence and to inject Coherence resources into Spring
beans as well as to inject Spring beans into Coherence resources. Spring&#8217;s dependency injection (DI) support simplifies
application code as Oracle Coherence <em>maps</em>, <em>caches</em> and <em>topics</em> are just injected instead of being obtained explicitly
via Coherence APIs. Furthermore, using annotated <em>event listener</em> methods simplifies building reactive code that responds
to Coherence cache events.</p>
</div>
<div class="paragraph">
<p>Before diving into the technical aspects of the reference documentation let&#8217;s provide a brief overview of the Coherence
Spring reference documentation, where to start, how to obtain further helper and more.</p>
</div>
<div class="sect2">
<h3 id="about"><a class="anchor" href="#about"></a>1.1. About the Documentation</h3>
<div class="paragraph">
<p>The Coherence Spring reference guide is available as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/reference//html">Multi-page HTML</a></p>
</li>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/reference//htmlsingle">Single page HTML</a></p>
</li>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/reference//pdf/coherence-spring-reference.pdf">PDF</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="getting-help"><a class="anchor" href="#getting-help"></a>1.2. Getting Help</h3>
<div class="paragraph">
<p>If you run into issues with Spring Coherence, we are here to help.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Try the <a href="#quickstart">Quickstart</a>.</em>
The Quickstart will give you an overview of Coherence Spring&#8217;s
capabilities and provides a sample application to get you started.</p>
</li>
<li>
<p><em>Learn the Coherence basics.</em> Please have at least some basic understanding of Oracle Coherence since all Spring Coherence
modules depend on it. Check out the <a href="https://coherence.community">Coherence CE</a> web-site for general Coherence
targeted reference documentation.</p>
</li>
<li>
<p><em>Learn the Spring basics.</em>
The reference guide assumes that you have a basic understanding of <a href="https://spring.io/projects/spring-framework/">Spring Framework</a> and
<a href="https://spring.io/projects/spring-boot/">Spring Boot</a>. Coherence Spring utilizes several other Spring projects. Check the
<a href="https://spring.io/">spring.io</a> web-site for general reference documentation. If you are starting out with Spring, try
one of the <a href="https://spring.io/guides">guides</a> or generate a starter project using <a href="https://start.spring.io/" class="bare">start.spring.io/</a>.</p>
</li>
<li>
<p><em>Ask a question.</em>
Chat with us directly on <a href="https://join.slack.com/t/oraclecoherence/shared_invite/zt-9ufv220y-Leudk0o5ntgNV0xraa8DNw">Slack</a>.
We also monitor <a href="https://stackoverflow.com">stackoverflow.com</a> for questions tagged with
<a href="https://stackoverflow.com/tags/oracle-coherence">oracle-coherence</a>.</p>
</li>
<li>
<p><em>Contribute.</em>
Report bugs with Spring Coherence via <a href="https://github.com/coherence-community/coherence-spring/issues/">GitHub Issues</a>. Both, Coherence CE and Coherence Spring are Open
Source Software (OSS) under the liberal <a href="#legal">Universal Permissive License (UPL)</a>. Contributing back is
a great way to attain a deeper understanding of our projects.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All of <em>Coherence Spring</em> is open source, including the documentation.
If you find problems with the docs or if you want to improve them, please <a href="https://github.com/coherence-community/coherence-spring/">get involved</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="news"><a class="anchor" href="#news"></a>1.3. What is new?</h3>
<div class="paragraph">
<p>In order to see what changes were made from earlier versions of Coherence Spring, see the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT///history.html">Change History</a> as well as the <a href="https://github.com/coherence-community/coherence-spring/releases/">GitHub Releases</a> page.</p>
</div>
</div>
<div class="sect2">
<h3 id="first-steps"><a class="anchor" href="#first-steps"></a>1.4. First Steps</h3>
<div class="paragraph">
<p>If you are getting started with Coherence Spring, start with the <a href="#quickstart">Quickstart</a>. It is a great
way to see a working solution quickly. Particularly if you are relatively new to Spring, continue with the
<a href="#spring-boot">Coherence Spring Boot</a> chapter next. The reference documentation makes a distinction between
<a href="https://spring.io/projects/spring-framework/">Spring Framework</a> and <a href="https://spring.io/projects/spring-boot/">Spring Boot</a>. At its very core, Spring Framework provides
Dependency Injection (DI) or Inversion Of Control (IOC) to Java applications. Furthermore, Spring Framework gives developers
comprehensive infrastructure support for developing Java applications.</p>
</div>
<div class="paragraph">
<p>Spring Boot on the other hand, is an opinionated extension to the Spring Framework by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Eliminating boilerplate configurations</p>
</li>
<li>
<p>Providing Auto-Configuration for other Spring modules and third-party integrations</p>
</li>
<li>
<p>Metrics + health checks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The vast majority of new Spring projects will utilize Spring Boot. Nonetheless, please also study the Spring Framework targeted
chapters as Spring Frameworks is the foundation for everything related to Spring Boot.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quickstart"><a class="anchor" href="#quickstart"></a>2. Quickstart</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this getting started chapter we will look a demo to illustrate basic usage of Oracle Coherence when using it with
Spring. This demo provides an example of using Coherence Spring&#8217;s
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache">Cache Abstraction</a>.</p>
</div>
<div class="paragraph">
<p>The demo application is basically a super-simple event manager. We can create <code>Events</code> and assign <code>People</code> to them using
an exposed REST API. The data is saved in an embedded HSQL database. The caching is implemented at the service layer:</p>
</div>
<div class="paragraph">
<p>When an <code>Event</code> is created, it is not only persisted to the database but also <em>put</em> to the Coherence Cache.
Therefore, whenever an <code>Event</code> is retrieved, it will be returned from the Coherence Cache. You can also delete
<code>Events</code>, in which case the <code>Event</code> will be <em>evicted</em> from the cache. You can perform the same
<a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations for people as well.</p>
</div>
<div class="sect2">
<h3 id="how-to-run-the-demo"><a class="anchor" href="#how-to-run-the-demo"></a>2.1. How to Run the Demo</h3>
<div class="paragraph">
<p>In order to get started, please checkout the code from the coherence-community/coherence-spring[Coherence Spring Repository]
GitHub repository.</p>
</div>
<div class="listingblock">
<div class="title">Clone GitHub Repository</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ git clone https://github.com/coherence-community/coherence-spring.git
 $ cd coherence-spring</code></pre>
</div>
</div>
<div class="paragraph">
<p>You now have checked out all the code for Coherence Spring. The relevant demo code for this Quickstart demo is under
<code>coherence-spring-samples/coherence-spring-demo/</code>.</p>
</div>
<div class="paragraph">
<p>There you will find 3 Maven sub-modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>coherence-spring-demo-classic</p>
</li>
<li>
<p>coherence-spring-demo-boot</p>
</li>
<li>
<p>coherence-spring-demo-core</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first two Maven modules are essentially variations of
the same app. The third module contains shared code.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>coherence-spring-demo-classic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a demo using <strong>Spring Framework</strong> without Spring Boot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>coherence-spring-demo-boot</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a demo using <strong>Spring Boot</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>coherence-spring-demo-core</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains common code shared between the two apps</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In this chapter we will focus on the <strong>Spring Boot</strong> version. Since we checked out the project, let&#8217;s build it using Maven:</p>
</div>
<div class="listingblock">
<div class="title">Build the project</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ ./mvnw clean package -pl coherence-spring-samples/coherence-spring-demo/coherence-spring-demo-boot</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we are ready to run the application:</p>
</div>
<div class="listingblock">
<div class="title">Run the Spring Boot application</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ java -jar coherence-spring-samples/coherence-spring-demo/coherence-spring-demo-boot/target/coherence-spring-demo-boot-3.0.0-SNAPSHOT.jar</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interacting-with-the-cache"><a class="anchor" href="#interacting-with-the-cache"></a>2.2. Interacting with the Cache</h3>
<div class="paragraph">
<p>Once the application is started, the embedded database is empty. Let&#8217;s create an event with 2 people added to them using
<a href="https://curl.se/docs/manual.html">curl</a>:</p>
</div>
<div class="listingblock">
<div class="title">Create the first event</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> curl --request POST 'http://localhost:8080/api/events?title=First%20Event&amp;date=2020-11-30'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This call will create and persist an <code>Event</code> to the database. However, there is more going on. The created <code>Event</code> is also
added to the Coherence Cache. The magic is happening in the Service layer, specifically in
<code>DefaultEventService#createAndStoreEvent()</code>, which is annotated with <code>@CachePut(cacheNames="events", key="#result.id")</code>.</p>
</div>
<div class="paragraph">
<p>The <code>cacheNames</code> attribute of the <code>@CachePut</code> annotation indicates the name of the underlying cache to use. As caches are
basically just a Map, we also need a key. In this case we use the expression <code>#result.id</code> to retrieve the primary key of
the <code>Event</code> as it was persisted. Thus, the saved <code>Event</code> is added to the cache named <code>events</code> and ultimately also
returned and printed to the console:</p>
</div>
<div class="listingblock">
<div class="title">Return result of the created event</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json"> {
   "id" : 1,
   "title" : "First Event",
   "date" : "2020-11-30T00:00:00.000+00:00"
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>We see that an Event with the id <code>1</code> was successfully created. Let&#8217;s verify that the <em>cache put</em> worked by looking at the
cache statistics:</p>
</div>
<div class="listingblock">
<div class="title">Retrieving Cache Statistics</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ curl --request GET 'http://localhost:8080/api/statistics/events'</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the console you should see some basic statistics being printed including <code>totalPuts : 1</code>:</p>
</div>
<div class="listingblock">
<div class="title">Cache Statistic Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json"> {
   "averageMissMillis" : 0.0,
   "cachePrunesMillis" : 0,
   "averagePruneMillis" : 0.0,
   "totalGetsMillis" : 0,
   "averageGetMillis" : 0.0,
   "totalPutsMillis" : 11,
   "averagePutMillis" : 11.0,
   "cacheHitsMillis" : 0,
   "averageHitMillis" : 0.0,
   "cacheMissesMillis" : 0,
   "cacheHits" : 0,
   "cacheMisses" : 0,
   "hitProbability" : 0.0,
   "totalPuts" : 1,
   "totalGets" : 0,
   "cachePrunes" : 0
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, lets retrieve the Event using id 1:</p>
</div>
<div class="listingblock">
<div class="title">Retrieve Event</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> curl --request GET 'http://localhost:8080/api/events/1'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Event is returned. Did you notice? No SQL queries were executed as the value was directly retrieved from the Cache.
Let&#8217;s check the statistics again by executing:</p>
</div>
<div class="listingblock">
<div class="title">Retrieve Cache Statistics</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> curl --request GET 'http://localhost:8080/api/statistics/events'</code></pre>
</div>
</div>
<div class="paragraph">
<p>We will see now how values are being returned from the cache by seeing increasing cacheHits, e.g. <code>"cacheHits" : 1</code>.
Let&#8217;s evict our Event with id 1 from the cache named events:</p>
</div>
<div class="listingblock">
<div class="title">Evict Event</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> curl --request DELETE 'http://localhost:8080/api/events/1'</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you now retrieve the event again using:</p>
</div>
<div class="listingblock">
<div class="title">Retrieve Event</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> curl --request GET 'http://localhost:8080/api/events/1'</code></pre>
</div>
</div>
<div class="paragraph">
<p>you will see an SQL query executed in the console, re-populating the cache. Feel free to play along with the Rest API. We
can for example add people:</p>
</div>
<div class="listingblock">
<div class="title">Add people</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> curl --request POST 'http://localhost:8080/api/people?firstName=Conrad&amp;lastName=Zuse&amp;age=85'
 curl --request POST 'http://localhost:8080/api/people?firstName=Alan&amp;lastName=Turing&amp;age=41'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List people</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> curl --request GET 'http://localhost:8080/api/people'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or assign people to events:</p>
</div>
<div class="listingblock">
<div class="title">Assign People to Events</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> curl --request POST 'http://localhost:8080/api/people/2/add-to-event/1'
 curl --request POST 'http://localhost:8080/api/people/3/add-to-event/1'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="behind-the-scenes"><a class="anchor" href="#behind-the-scenes"></a>2.3. Behind the Scenes</h3>
<div class="paragraph">
<p>What is involved to make this all work? Using Spring Boot, the setup is incredibly simple. We take advantage of Spring Boot&#8217;s
<a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-auto-configuration">AutoConfiguration</a>
capabilities, and the sensible defaults provided by <em>Coherence Spring</em>.</p>
</div>
<div class="paragraph">
<p>In order to activate AutoConfiguration for Coherence Spring you need to add the <code>coherence-spring-boot-starter</code>
dependency as well as the desired dependency for Coherence.</p>
</div>
<div class="listingblock">
<div class="title">POM configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"> &lt;dependency&gt;
     &lt;groupId&gt;com.oracle.coherence.spring&lt;/groupId&gt;
     &lt;artifactId&gt;coherence-spring-boot-starter&lt;/artifactId&gt; <i class="conum" data-value="1"></i><b>(1)</b>
     &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;
 &lt;/dependency&gt;
 &lt;dependency&gt;
     &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
     &lt;artifactId&gt;coherence&lt;/artifactId&gt;                     <i class="conum" data-value="2"></i><b>(2)</b>
     &lt;version&gt;21.06-M1&lt;/version&gt;
 &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Activate Autoconfiguration by adding the <code>coherence-spring-boot-starter</code> dependency</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add the desired version of Coherence (CE or Commercial)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this quickstart example we are using Spring&#8217;s Caching abstraction and therefore, we
use the <code>spring-boot-starter-cache</code> dependency as well:</p>
</div>
<div class="listingblock">
<div class="title">POM configuration for Spring Cache Abstraction</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"> &lt;dependency&gt;
     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
     &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;
 &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For caching you also must activate caching using the <code>@EnableCaching</code> annotation.</p>
</div>
<div class="listingblock">
<div class="title">Spring Boot App configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> @SpringBootApplication
 @EnableCaching                                             <i class="conum" data-value="1"></i><b>(1)</b>
 public class CoherenceSpringBootDemoApplication {

     public static void main(String[] args) {
         SpringApplication.run(CoherenceSpringBootDemoApplication.class, args);
     }

 }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Activate the Spring Cache Abstraction</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Please see the relevant chapter on
<a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-caching">Caching</a> in the Spring Boot
reference guide.</p>
</div>
<div class="paragraph">
<p>With <code>@EnableCaching</code> in place, Coherence&#8217;s autoconfiguration will also provide a <code>CoherenceCacheManager</code> bean to the
application context.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coherence-spring"><a class="anchor" href="#coherence-spring"></a>3. Coherence Spring Core</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Core module. Coherence Spring Core
provides the basic support for the <a href="https://spring.io/projects/spring-framework/">Spring Framework</a>.</p>
</div>
<div class="sect2">
<h3 id="coherence-spring-introduction"><a class="anchor" href="#coherence-spring-introduction"></a>3.1. Getting Started</h3>
<div class="paragraph">
<p>To add support for Oracle Coherence to an existing Spring Framework project, you should first add the required Spring
Coherence dependencies to your build configuration:</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Coherence Spring Dependencies</div>
<div class="content">
<div class="listingblock primary">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.oracle.coherence.spring&lt;/groupId&gt;
    &lt;artifactId&gt;coherence-spring-core&lt;/artifactId&gt;
    &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">implementation("com.oracle.coherence.spring:coherence-spring-core:3.0.0-SNAPSHOT")</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Next you also need to add the version of Coherence that your application will be using. Coherence Spring is compatible
with both the open source Coherence CE and the commercial version of Oracle Coherence. Therefore, we don&#8217;t bring in
Oracle Coherence as transitive dependency. For example, to use Coherence CE specify:</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Oracle Coherence CE Dependency</div>
<div class="content">
<div class="listingblock primary">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
    &lt;artifactId&gt;coherence&lt;/artifactId&gt;
    &lt;version&gt;21.06-M1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">implementation("com.oracle.coherence.ce:coherence:21.06-M1")</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In order to use the commercial version of Coherence:</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Commercial Oracle Coherence Dependency</div>
<div class="content">
<div class="listingblock primary">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.oracle.coherence&lt;/groupId&gt;
    &lt;artifactId&gt;coherence&lt;/artifactId&gt;
    &lt;version&gt;14.1.1-0-1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">implementation("com.oracle.coherence.ce:coherence:14.1.1-0-1")</code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Coherence CE versions are available from Maven Central. The commercial versions of Coherence needs to be uploaded
into your own Maven repository.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="coherence-spring-botstrap"><a class="anchor" href="#coherence-spring-botstrap"></a>3.2. Bootstrapping Coherence</h3>
<div class="paragraph">
<p>The default behaviour of Coherence Spring is to use the Coherence bootstrap API introduced in Coherence CE <code>20.12</code> to
configure and create Coherence instances. This means that Coherence resources in a Spring application are typically
part of a Coherence Session.</p>
</div>
<div class="paragraph">
<p>By default, Coherence will start a single Session configured to use the default Coherence configuration file. This
behavior can easily be configured using traditional Coherence using system properties or using dedicated configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="coherence-spring-botstrap-with-default-session"><a class="anchor" href="#coherence-spring-botstrap-with-default-session"></a>3.3. Using the Default Session</h3>
<div class="paragraph">
<p>The main building block for setting up Coherence for Spring is the <code>@EnableCoherence</code> annotation. This annotation will
import the <code>CoherenceSpringConfiguration</code> under the covers. Therefore, you can alternatively also declare
<code>@Import(CoherenceSpringConfiguration.class)</code> instead. Without providing any further configuration the default session
is configured using the embedded default configuration file.</p>
</div>
<div class="paragraph">
<p>To provide further customization, you may for example provide an implementation of
the <code>AbstractSessionConfigurationBean</code>, e.g.:</p>
</div>
<div class="listingblock">
<div class="title">SessionConfigurationBean</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> @Bean
 SessionConfigurationBean sessionConfigurationBeanDefault() {
     final SessionConfigurationBean sessionConfigurationBean =
             new SessionConfigurationBean();
     sessionConfigurationBean.setType(SessionType.SERVER);
     sessionConfigurationBean.setConfig("test-coherence-config.xml");
     return sessionConfigurationBean;
 }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="coherence-spring-botstrap-with-multiple-session"><a class="anchor" href="#coherence-spring-botstrap-with-multiple-session"></a>3.4. Configure Multiple Sessions</h3>

</div>
<div class="sect2">
<h3 id="coherence-spring-botstrap-session-config-properties"><a class="anchor" href="#coherence-spring-botstrap-session-config-properties"></a>3.5. Session Configuration Properties</h3>

</div>
<div class="sect2">
<h3 id="coherence-spring-events"><a class="anchor" href="#coherence-spring-events"></a>3.6. Events</h3>
<div class="paragraph">
<p>Event driven patterns are a common way to build scalable applications and microservices. Coherence produces a number of
events that can be used by applications to respond to data changes and other actions in Coherence.</p>
</div>
<div class="paragraph">
<p>There are two types of events in Coherence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/util/MapEvent.html">MapEvents</a> which are subscribed to using a <a href="https://coherence.community/20.12/api/java/com/tangosol/util/MapListener.html">MapListener</a></p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/Event.html">Events</a>, which are subscribed to using an <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/EventInterceptor.html">EventInterceptor</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Spring makes subscribing to both of these event-types much simpler using observer methods annotated with
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CoherenceEventListener.html">@CoherenceEventListener</a>.</p>
</div>
<div class="listingblock">
<div class="title">Example of using a Coherence Event Listener</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
void onEvent(CoherenceLifecycleEvent event) {
    // TODO: process event...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method above receives all events of type <code>CoherenceLifecycleEvent</code> emitted during the lifetime of the application. The
actual events received can be controlled further by annotating the method or the method arguments.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Spring <code>4.2</code> introduced
<a href="https://spring.io/blog/2015/02/11/better-application-events-in-spring-framework-4-2">Annotation-driven event listeners</a> as
part of its <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference//html/core.html#context-functionality-events">event support</a>.
Coherence Spring does <strong>NOT</strong> directly use Spring&#8217;s <code>ApplicationEvent</code> class and the corresponding <code>ApplicationListener</code>
interface. However, Coherence Spring follows that pattern conceptually in order to provide a similar user experience.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="coherence-spring-events-mapevent-listeners"><a class="anchor" href="#coherence-spring-events-mapevent-listeners"></a>3.6.1. MapEvent Listeners</h4>
<div class="paragraph">
<p>Listening for changes to data in Coherence is a common use case in applications. Typically, this involves creating an
implementation of a <a href="https://coherence.community/20.12/api/java/com/tangosol/util/MapListener.html">MapListener</a> and adding that listener to a
<code>NamedMap</code> or <code>NamedCache</code>. Using Coherence Spring makes this much simpler by just using Spring beans with suitably
annotated observer methods that will receive the respective events.</p>
</div>
<div class="sect4">
<h5 id="mapevent-observer-methods"><a class="anchor" href="#mapevent-observer-methods"></a>3.6.1.1. MapEvent Observer Methods</h5>
<div class="paragraph">
<p>A <a href="https://coherence.community/20.12/api/java/com/tangosol/util/MapEvent.html">MapEvent</a> observer method is a method on a Spring bean that is
annotated with <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/CoherenceEventListener.html">@CoherenceEventListener</a>.
The annotated method must have a <code>void</code> return type and must take a single method parameter of type <code>MapEvent</code>, typically
this has the generic types of the underlying map/cache key and value.</p>
</div>
<div class="paragraph">
<p>For example, assuming that there is a map/cache named <code>people</code>, with keys of type <code>String</code> and values of type <code>Plant</code>,
and the application has logic that should be executed each time a new <code>Plant</code> is inserted into the map:</p>
</div>
<div class="listingblock">
<div class="title">Example of listening to Inserted events</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.oracle.coherence.spring.annotation.event.Inserted;
import com.oracle.coherence.spring.annotation.event.MapName;
import com.oracle.coherence.spring.event.CoherenceEventListener;
import com.tangosol.util.MapEvent;
import org.springframework.stereotype.Component;

@Component                                                     <i class="conum" data-value="1"></i><b>(1)</b>
public class PersonEventHandler {

    @CoherenceEventListener                                    <i class="conum" data-value="2"></i><b>(2)</b>
    public void onNewPerson(@MapName("people")                 <i class="conum" data-value="3"></i><b>(3)</b>
                            @Inserted                          <i class="conum" data-value="4"></i><b>(4)</b>
                            MapEvent&lt;String, Person&gt; event) {
        // TODO: process the event
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>PersonController</code> is a simple Spring bean, in this case a <code>Controller</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>onNewPerson</code> method is annotated with <code>@CoherenceEventListener</code> making it a Coherence event listener.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>@MapName("people")</code> annotation specifies the name of the map to receive events from, in this case <code>people</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>@Inserted</code> annotation specified that only <code>Inserted</code> events should be sent to this method.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The above example is still rather simple. There are a number of other annotations that provide much finer-grained control
over what events are received from where.</p>
</div>
<div class="sect5">
<h6 id="specify-the-mapcache-name"><a class="anchor" href="#specify-the-mapcache-name"></a>Specify the Map/Cache name</h6>
<div class="paragraph">
<p>By default, a <code>MapEvent</code> observer method would receive events for all maps/caches. In practice though, this would not be
a very common use case, and typically you would want an observer method to listen to events that are for specific caches.
The Coherence Spring API contains two annotations for specifying the map name:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/MapName.html">@MapName</a></p>
</li>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CacheName.html">@CacheName</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both annotations take a single <code>String</code> value that represents the name of the map or cache that events should be received
from.</p>
</div>
<div class="listingblock">
<div class="title">Listening to events for all caches</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onEvent(MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above method receives events for <em>all</em> caches.</p>
</div>
<div class="listingblock">
<div class="title">Listening to events for the map named "foo"</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onFooEvent(@MapName("foo")                <i class="conum" data-value="1"></i><b>(1)</b>
                           MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The above method receives events for the map named <code>foo</code>.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listening to events for the cache named "bar"</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onBarEvent(@CacheName("bar")             <i class="conum" data-value="1"></i><b>(1)</b>
                           MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The above method receives events for the cache named <code>bar</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="specify-the-cache-service-name"><a class="anchor" href="#specify-the-cache-service-name"></a>Specify the Cache Service name</h6>
<div class="paragraph">
<p>In the previous section we showed to restrict received events to a specific map or cache name. Events can also be restricted
to only events from a specific <a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.0/develop-applications/introduction-coherence-clusters.html#GUID-62A54E60-E964-4DFE-BE7F-CA7ADA93354E">cache service</a>.
In Coherence all caches are owned by a cache service, which has a unique name. By default, a <code>MapEvent</code> observer method
would receive events for a matching cache name on <em>all</em> services. If an applications Coherence configuration has multiple
services, the events can be restricted to just specific services using the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/ServiceName.html">@ServiceName</a> annotation.</p>
</div>
<div class="listingblock">
<div class="title">Listening to events for the "foo" map on all services</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onEventFromAllServices(@MapName("foo")  <i class="conum" data-value="1"></i><b>(1)</b>
                                MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The above method receives events for the map named <code>foo</code> on <em>all</em> cache services.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listening to events for the "foo" map on the "Storage" service only</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onEventOnStorageService(@MapName("foo")
                        @ServiceName("Storage")        <i class="conum" data-value="1"></i><b>(1)</b>
                        MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The above method receives events for the map named <code>foo</code> owned by the cache service named <code>Storage</code>.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listening to events for ALL caches on the "Storage" service</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onEventFromAllCachesOnStorageService(@ServiceName("Storage")  <i class="conum" data-value="1"></i><b>(1)</b>
                        MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The above method receives events for <em>all</em> caches owned by the cache service named <code>Storage</code> as there is no <code>@MapName</code> or <code>@CacheName</code> annotation.</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="specify-the-owning-session-name"><a class="anchor" href="#specify-the-owning-session-name"></a>Specify the Owning Session Name</h6>
<div class="paragraph">
<p>In applications that use multiple <code>Sessions</code>, there may be a situation where more than one session has a map with
the same name. In those cases an observer method may need to restrict the events it receives to a specific session.
The events can be restricted to <code>maps</code> and/or <code>caches</code> in specific sessions using the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/SessionName.html">@SessionName</a> annotation.</p>
</div>
<div class="listingblock">
<div class="title">Listening to events for the "orders" map in ALL sessions</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onOrdersEventAllSessions(@MapName("orders")                  <i class="conum" data-value="1"></i><b>(1)</b>
                        MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The above method receives events for the map named <code>orders</code> in <em>all</em> sessions.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listening to events for the "orders" map in the "Customer" session only</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onOrdersEventInCustomerSession(@MapName("orders")
                        @SessionName("Customer")                            <i class="conum" data-value="1"></i><b>(1)</b>
                        MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The above method receives events for the map named <code>orders</code> owned by the <code>Session</code> named <code>Customer</code>.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listening to events for ALL caches in the "Customer" session</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onEventInAllCachesInCustomerSession(@SessionName("Customer") <i class="conum" data-value="1"></i><b>(1)</b>
                                MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The above method receives events for the <em>all</em> caches owned by the <code>Session</code> named <code>Customer</code> as there is no <code>@MapName</code> or <code>@CacheName</code> annotation.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Therefore, in application with multiple sessions, events with the same name can be routed by session.</p>
</div>
<div class="listingblock">
<div class="title">Route events with the cache name by the name of the session</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onCustomerOrders(@SessionName("Customer")                    <i class="conum" data-value="1"></i><b>(1)</b>
                                 @MapName("orders")
                                 MapEvent&lt;String, Order&gt; event) {
        // TODO: process the event
    }

    @CoherenceEventListener
    public void onCatalogOrders(@SessionName("Catalog")                      <i class="conum" data-value="2"></i><b>(2)</b>
                                @MapName("orders")
                                MapEvent&lt;String, Order&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>onCustomerOrders</code> method will receive events for the <code>orders</code> map owned by the <code>Session</code> named <code>Customer</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>onCatalogOrders</code> method will receive events for the <code>orders</code> map owned by the <code>Session</code> named <code>Catalog</code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="coherence-spring-events-mapevent-listeners-specific-events"><a class="anchor" href="#coherence-spring-events-mapevent-listeners-specific-events"></a>3.6.1.2. Receive Specific Event Types</h5>
<div class="paragraph">
<p>There are three types of event that a <code>MapEvent</code> observer method can receive:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Insert</code></p>
</li>
<li>
<p><code>Update</code></p>
</li>
<li>
<p><code>Delete</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, an observer method will receive all events for the map (or maps) it applies to. This can be controlled using
the following annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Inserted.html">@Inserted</a> - to receive <code>Insert</code> events.</p>
</li>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Updated.html">@Updated</a> - to receive <code>Update</code> events.</p>
</li>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Deleted.html">@Deleted</a> - to receive <code>Delete</code> events.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Zero or more of the above annotations can be used to annotate the <code>MapEvent</code> parameter of the observer method.</p>
</div>
<div class="listingblock">
<div class="title">Listen to "Insert" event for the "test" map only</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onInsertEvent(@MapName("test")
                        @Inserted                                            <i class="conum" data-value="1"></i><b>(1)</b>
                        MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Only <code>Insert</code> events for the map <code>test</code> will be received.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listen to "Insert" and "Delete" events for the "test" map only</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onInsertAndDeleteEvent(@MapName("test")
                        @Inserted @Deleted                                   <i class="conum" data-value="1"></i><b>(1)</b>
                        MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Only <code>Insert</code> and <code>Delete</code> events for the map <code>test</code> will be received.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listen to ALL map events for the "test" map</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    public void onMapEvent(@MapName("test") MapEvent&lt;String, String&gt; event) {
        // TODO: process the event
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>All events for the map <code>test</code> will be received.</p>
</div>
</div>
<div class="sect4">
<h5 id="coherence-spring-events-mapevent-listeners-filtering-events"><a class="anchor" href="#coherence-spring-events-mapevent-listeners-filtering-events"></a>3.6.1.3. Filtering Events</h5>
<div class="paragraph">
<p>The <code>MapEvents</code> received by an observer method can be further restricted by applying a filter. Filters are applied by
annotating the method with a <a href="#coherence-spring-filter-binding-annotations">filter binding</a> annotation, which is a link
to a factory that creates a specific instance of a <a href="https://coherence.community/20.12/api/java/com/tangosol/util/Filter.html">Filter</a>. Event
filters applied in this way are executed on the server, which can make receiving events more efficient for clients, as
the event will not be sent from the server at all.</p>
</div>
<div class="paragraph">
<p>Coherence Spring comes with some built in implementations, for example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/AlwaysFilter.html">@AlwaysFilter</a>,</p>
</li>
<li>
<p><a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/WhereFilter.html">@WhereFilter</a>,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is simple to implement custom filters as required by applications. Please refer to the
<a href="#coherence-spring-filter-binding-annotations">Filter Binding Annotation</a> section for more details.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s assume there is a map named <code>people</code> with keys of type <code>String</code> and values of type <code>People</code>, and an
observer method needs to receive events for all values where the <code>age</code> property is <code>18</code> or over. A custom filter binding
annotation could be written to create the required <code>Filter</code>. However, as the condition is very simple, the
built-in <code>@WhereFilter</code> filter binding annotation will be used in this example with a where-clause of <code>age &gt;= 18</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example of a Where Filter</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @WhereFilter("age &gt;= 18")                                                <i class="conum" data-value="1"></i><b>(1)</b>
    @CoherenceEventListener
    @MapName("people")
    public void onAdult(MapEvent&lt;String, Person&gt; people) {
        // TODO: process event...
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>@WhereFilter</code> annotation is applied to the method.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>onAdult</code> method above will receive all events emitted from the <code>people</code> map, but only for entries where the value
of the <code>age</code> property of the entry value is <code>&gt;= 18</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="coherence-spring-events-mapevent-listeners-transforming-events"><a class="anchor" href="#coherence-spring-events-mapevent-listeners-transforming-events"></a>3.6.1.4. Transforming Events</h5>
<div class="paragraph">
<p>In some use-cases the <code>MapEvent</code> observer method does not require the whole map or cache value to process, it might only
require one, or a few, properties of the value, or it might require some calculated value. This can be achieved by
using an event transformer to convert the values that will be received by the observer method. The transformation takes
place on the server before the event is emitted to the method. This can improve efficiency on a client in cases where
the cache value is large, but the client only requires a small part of that value because only the required values are
sent over the wire to the client.</p>
</div>
<div class="paragraph">
<p>In Coherence Spring, event values are transformed using a <a href="https://coherence.community/20.12/api/java/com/tangosol/util/ValueExtractor.html">ValueExtractor</a>.
A <code>ValueExtractor</code> is a simple interface that takes in one value and transforms it into another value. The <code>ValueExtractor</code>
is applied to the event value. As events contain both a new and old values, the extractor is applied to both as applicable.
For <code>Insert</code> events there is only a new value, for <code>Update</code> events there will be both, a new and an old value, and for
<code>Delete</code> events, there will only be an old value. The extractor is not applied to the event key.</p>
</div>
<div class="paragraph">
<p>The <code>ValueExtractor</code> to use for a <code>MapEvent</code> observer method is indicated by annotating the method with an
<a href="#coherence-spring-extractor-binding-annotations">extractor binding annotation</a>. An extractor binding is an annotation
that is itself annotated with the meta-annotation <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/ExtractorBinding.html">@ExtractorBinding</a>.
The extractor binding annotation is a link to a corresponding <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/ExtractorFactory.html">ExtractorFactory</a>
that will build an instance of a <code>ValueExtractor</code>.</p>
</div>
<div class="paragraph">
<p>For example, assuming that there is a <code>NamedMap</code> with the name <code>orders</code> that has keys of type <code>String</code> and values of type <code>Order</code>.
The <code>Order</code> class has a <code>customerId</code> property of type <code>String</code>. A <code>MapEvent</code> observer method is only interested in the
<code>customerId</code> for an order, so the built-in extractor binding annotation
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/PropertyExtractor.html">@PropertyExtractor</a> can be used
to just extract the <code>customerId</code> from the event:</p>
</div>
<div class="listingblock">
<div class="title">Example of a Property Extractor</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    @PropertyExtractor("customerId")                                         <i class="conum" data-value="1"></i><b>(1)</b>
    public void onOrder(@MapName("orders")                                   <i class="conum" data-value="2"></i><b>(2)</b>
                        MapEvent&lt;String, String&gt; event) {                    <i class="conum" data-value="3"></i><b>(3)</b>
        // TODO: process event...
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The method is annotated with <code>@PropertyExtractor</code> to indicate that a <code>ValueExtractor</code> that just extracts the <code>customerId</code>
property should be used to transform the event.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The map name to receive events from is set to <code>orders</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Note that the generic types of the <code>MapEvent</code> parameter are now <code>MapEvent&lt;String, String&gt;</code> instead of
<code>MapEvent&lt;String, Order&gt;</code> because the event values will have been transformed from an <code>Order</code> into just the <code>String</code>
<code>customerId</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is possible to apply multiple filter binding annotations to a method. In this case the extractors are combined into a
Coherence <a href="https://coherence.community/20.12/api/java/com/tangosol/util/extractor/ChainedExtractor.html">ChainedExtractor</a>, which will return the
extracted values as a <code>java.util.List</code>.</p>
</div>
<div class="paragraph">
<p>Expanding on the example above, if the <code>Order</code> class also has an <code>orderId</code> property of type <code>Long</code>, and an observer
method, only interested in <code>Insert</code> events needs both the <code>customerId</code> and <code>orderId</code>, then the method can be annotated
with a two <code>@PropertyExtractor</code> annotations:</p>
</div>
<div class="listingblock">
<div class="title">Example of using multiple Property Extractors</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @CoherenceEventListener
    @PropertyExtractor("customerId")                                         <i class="conum" data-value="1"></i><b>(1)</b>
    @PropertyExtractor("orderId")
    public void onOrderWithMultiplePropertyExtractors(
                        @Inserted                                            <i class="conum" data-value="2"></i><b>(2)</b>
                        @MapName("orders")
                        MapEvent&lt;String, List&lt;Object&gt;&gt; event) {              <i class="conum" data-value="3"></i><b>(3)</b>
        List list = event.getNewValue();
        String customerId = (String) list.get(0);                            <i class="conum" data-value="4"></i><b>(4)</b>
        Long orderId = (Long) list.get(1);
        // ...
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The method is annotated with two <code>@PropertyExtractor</code> annotations, one to extract <code>customerId</code> and one to extract <code>orderId</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The method parameter is annotated with <code>@Inserted</code> so that the method only receives <code>Insert</code> events.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>MapEvent</code> parameter not has a key of type <code>String</code> and a value of type <code>List&lt;Object&gt;</code>, because the values from
the multiple extractors will be returned in a <code>List</code>. We cannot use a generic value narrower than <code>Object</code>
for the list because it will contain a <code>String</code> and a <code>Long</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The extracted values can be obtained from the list, they will be in the same order that the annotations were applied
to the method.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="coherence-spring-events-event-interceptors"><a class="anchor" href="#coherence-spring-events-event-interceptors"></a>3.6.2. Coherence Event Interceptors</h4>
<div class="paragraph">
<p>Coherence produces many events in response to various server-side and client-side actions. For example, <em>Lifecycle events</em>
for Coherence itself, maps and cache, <em>Entry events</em> when data in maps and caches changes, <em>Partition events</em> for
partition lifecycle and distribution, <em>EntryProcessor events</em> when invoked on a map or cache, etc. In a stand-alone
Coherence application these events are subscribed to using a
<a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/EventInterceptor.html">EventInterceptor</a> implementation registered to listen
to specific event types.</p>
</div>
<div class="paragraph">
<p>The Coherence Spring API makes subscribing to these events simple, by using the same approach used for Spring Application
events, namely annotated event observer methods. A Coherence event observer method is a method annotated with
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CoherenceEventListener.html">@CoherenceEventListener</a>
that has a <code>void</code> return type, and a single parameter of the type of event to be received. The exact events received
can be further controlled by applying other annotations to the method or event parameter. The annotations applied will
vary depending on the type of the event.</p>
</div>
<div class="sect4">
<h5 id="event-types"><a class="anchor" href="#event-types"></a>3.6.2.1. Event Types</h5>
<div class="paragraph">
<p>The different types of event that can be observed are listed below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/CoherenceLifecycleEvent.html">CoherenceLifecycleEvent</a> -
lifecycle events for  <a href="https://coherence.community/20.12/api/java/com/tangosol/net/Coherence.html">Coherence</a> instances</p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/SessionLifecycleEvent.html">SessionLifecycleEvent</a> -
lifecycle events for <a href="https://coherence.community/20.12/api/java/com/tangosol/net/Session.html">Session</a> instances</p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/application/LifecycleEvent.html">LifecycleEvent</a> -
lifecycle events for <a href="https://coherence.community/20.12/api/java/com/tangosol/net/ConfigurableCacheFactory.html">ConfigurableCacheFactory</a> instances</p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/cache/CacheLifecycleEvent.html">CacheLifecycleEvent</a> -
lifecycle events for <a href="https://coherence.community/20.12/api/java/com/tangosol/net/NamedMap.html">NamedMap</a> and <a href="https://coherence.community/20.12/api/java/com/tangosol/net/NamedCache.html">NamedCache</a> instances</p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/cache/EntryEvent.html">EntryEvent</a> - events emitted by the
mutation of entries in a <a href="https://coherence.community/20.12/api/java/com/tangosol/net/NamedMap.html">NamedMap</a>
or <a href="https://coherence.community/20.12/api/java/com/tangosol/net/NamedCache.html">NamedCache</a></p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/cache/EntryProcessorEvent.html">EntryProcessorEvent</a> - events emitted
by the invocation of an <a href="https://coherence.community/20.12/api/java/com/tangosol/util/EntryProcessor.html">EntryProcessor</a> on entries in a
<a href="https://coherence.community/20.12/api/java/com/tangosol/net/NamedMap.html">NamedMap</a> or <a href="https://coherence.community/20.12/api/java/com/tangosol/net/NamedCache.html">NamedCache</a></p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransactionEvent.html">TransactionEvent</a> - events pertaining to
all mutations performed within the context of a single request in a partition of a
<a href="https://coherence.community/20.12/api/java/com/tangosol/net/NamedMap.html">NamedMap</a> or <a href="https://coherence.community/20.12/api/java/com/tangosol/net/NamedCache.html">NamedCache</a>,
also referred to as "partition level transactions".</p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransferEvent.html">TransferEvent</a> - captures information
concerning the transfer of a partition for a storage enabled member.</p>
</li>
<li>
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/UnsolicitedCommitEvent.html">UnsolicitedCommitEvent</a> - captures
changes pertaining to all observed mutations performed against caches that were not directly caused (solicited) by the
partitioned service. These events may be due to changes made internally by the backing map, such as eviction, or referrers
of the backing map causing changes.</p>
</li>
<li>
<p>If using commercial versions of Coherence with Coherence Spring, there are also events associated to
the federation of data between different clusters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Most of the events above only apply to storage enabled cluster members. For example, an <code>EntryEvent</code> will only be
emitted for mutations of an entry on the storage enabled cluster member that owns that entry. Lifecycle events on the
other hand, may be emitted on all members, such as <code>CacheLifecycle</code> event that may be emitted on any member when a cache
is created, truncated, or destroyed.</p>
</div>
</div>
<div class="sect4">
<h5 id="coherence-lifecycle-events"><a class="anchor" href="#coherence-lifecycle-events"></a>3.6.2.2. Coherence Lifecycle Events</h5>
<div class="paragraph">
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/application/LifecycleEvent.html">LifecycleEvent</a> are emitted to indicate the lifecycle of a <a href="https://coherence.community/20.12/api/java/com/tangosol/net/ConfigurableCacheFactory.html">ConfigurableCacheFactory</a> instance.</p>
</div>
<div class="paragraph">
<p>To subscribe to <code>LifecycleEvent</code> simply create a Spring bean with a listener method that is annotated with
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>LifecycleEvent</code>.</p>
</div>
<div class="paragraph">
<p><code>LifecycleEvent</code> are emitted by <code>ConfigurableCacheFactory</code> instances and will only be received in the same JVM, which could be a cluster member or a client.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive lifecycle events for all <code>ConfigurableCacheFactory</code> instances in the current application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(LifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="receive-specific-lifecycleevent-types"><a class="anchor" href="#receive-specific-lifecycleevent-types"></a>Receive Specific LifecycleEvent Types</h6>
<div class="paragraph">
<p>There are four different types of <code>LifecycleEvent</code>.
By adding the corresponding annotation to the method parameter the method will only receive the specified events.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Activating</strong> - a <code>ConfigurableCacheFactory</code> instance is about to be activated, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Activating.html">@Activating</a> annotation</p>
</li>
<li>
<p><strong>Activated</strong> - a <code>ConfigurableCacheFactory</code> instance has been activated, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Activated.html">@Activated</a> annotation</p>
</li>
<li>
<p><strong>Disposing</strong> - a <code>ConfigurableCacheFactory</code> instance is about to be disposed, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Disposing.html">@Disposing</a> annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the method below will only receive <code>Activated</code> and <code>Disposing</code> events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Activated @Disposing LifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-coherencelifecycleevents-for-a-specific-coherence-instance"><a class="anchor" href="#receive-coherencelifecycleevents-for-a-specific-coherence-instance"></a>Receive CoherenceLifecycleEvents for a Specific Coherence Instance</h6>
<div class="paragraph">
<p>Each <code>Coherence</code> instance in an application has a unique name. The observer method can be annotated to only receive events associated with a specific <code>Coherence</code> instance by using the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/Name.html">@Name</a> annotation.</p>
</div>
<div class="paragraph">
<p>For example, the method below will only receive events for the <code>Coherence</code> instance named <code>customers</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Name("customers") CoherenceLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method in this example will receive events for the default <code>Coherence</code> instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Name(Coherence.DEFAULT_NAME) CoherenceLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="session-lifecycle-events"><a class="anchor" href="#session-lifecycle-events"></a>3.6.2.3. Session Lifecycle Events</h5>
<div class="paragraph">
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/SessionLifecycleEvent.html">SessionLifecycleEvents</a> are emitted to indicate
the lifecycle event of a <a href="https://coherence.community/20.12/api/java/com/tangosol/net/Session.html">Session</a> instance.</p>
</div>
<div class="paragraph">
<p>To subscribe to <code>SessionLifecycleEvents</code> simply create a Spring bean with a listener method annotated with
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>SessionLifecycleEvent</code>.</p>
</div>
<div class="paragraph">
<p><code>SessionLifecycleEvents</code> are emitted by <code>Session</code> instances and will only be received in the same JVM, which could be a cluster member or a client.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive lifecycle events for all <code>Session</code> instances in the current application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(SessionLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="receive-specific-sessionlifecycleevent-types"><a class="anchor" href="#receive-specific-sessionlifecycleevent-types"></a>Receive Specific SessionLifecycleEvent Types</h6>
<div class="paragraph">
<p>There are four different types of <code>SessionLifecycleEvent</code>.
By adding the corresponding annotation to the method parameter the method will only receive the specified events.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Starting</strong> - a <code>Coherence</code> instance is about to start, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Starting.html">@Starting</a> annotation</p>
</li>
<li>
<p><strong>Started</strong> - a <code>Coherence</code> instance has started, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Started.html">@Started</a> annotation</p>
</li>
<li>
<p><strong>Stopping</strong> - a <code>Coherence</code> instance is about to stop, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Stopping.html">@Stopping</a> annotation</p>
</li>
<li>
<p><strong>Stopped</strong> - a <code>Coherence</code> instance has stopped, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Stopped.html">@Stopped</a> annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the method below will only receive <code>Started</code> and <code>Stopped</code> events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Started @Stopped SessionLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-sessionlifecycleevents-for-a-specific-session-instance"><a class="anchor" href="#receive-sessionlifecycleevents-for-a-specific-session-instance"></a>Receive SessionLifecycleEvents for a Specific Session Instance</h6>
<div class="paragraph">
<p>Each <code>Session</code> instance in an application has a name. The observer method can be annotated to only receive events
associated with a specific <code>Session</code> instance by using the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/Name.html">@Name</a> annotation.</p>
</div>
<div class="paragraph">
<p>For example, the method below will only receive events for the <code>Session</code> instance named <code>customers</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Name("customers") SessionLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method in this example will receive events for the default <code>Coherence</code> instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Name(Coherence.DEFAULT_NAME) SessionLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="configurablecachefactory-lifecycle-events"><a class="anchor" href="#configurablecachefactory-lifecycle-events"></a>3.6.2.4. ConfigurableCacheFactory Lifecycle Events</h5>
<div class="paragraph">
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/CoherenceLifecycleEvent.html">CoherenceLifecycleEvents</a> are emitted to
indicate the lifecycle of a <a href="https://coherence.community/20.12/api/java/com/tangosol/net/Coherence.html">Coherence</a> instance.</p>
</div>
<div class="paragraph">
<p>To subscribe to <code>CoherenceLifecycleEvent</code> simply create a Spring bean with a listener method annotated with
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>CoherenceLifecycleEvent</code>.</p>
</div>
<div class="paragraph">
<p><code>CoherenceLifecycleEvent</code> are emitted by <code>Coherence</code> instances and will only be received in the same JVM, which could be
a cluster member or a client.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive lifecycle events for all <code>Coherence</code> instances in the current application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(CoherenceLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="receive-specific-coherencelifecycleevent-types"><a class="anchor" href="#receive-specific-coherencelifecycleevent-types"></a>Receive Specific CoherenceLifecycleEvent Types</h6>
<div class="paragraph">
<p>There are four different types of <code>CoherenceLifecycleEvent</code>.
By adding the corresponding annotation to the method parameter the method will only receive the specified events.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Starting</strong> - a <code>Coherence</code> instance is about to start, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Starting.html">@Starting</a> annotation</p>
</li>
<li>
<p><strong>Started</strong> - a <code>Coherence</code> instance has started, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Started.html">@Started</a> annotation</p>
</li>
<li>
<p><strong>Stopping</strong> - a <code>Coherence</code> instance is about to stop, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Stopping.html">@Stopping</a> annotation</p>
</li>
<li>
<p><strong>Stopped</strong> - a <code>Coherence</code> instance has stopped, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Stopped.html">@Stopped</a> annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the method below will only receive <code>Started</code> and <code>Stopped</code> events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Started @Stopped CoherenceLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-coherencelifecycleevents-for-a-specific-coherence-instance-2"><a class="anchor" href="#receive-coherencelifecycleevents-for-a-specific-coherence-instance-2"></a>Receive CoherenceLifecycleEvents for a Specific Coherence Instance</h6>
<div class="paragraph">
<p>Each <code>Coherence</code> instance in an application has a unique name. The observer method can be annotated to only receive events associated with a specific <code>Coherence</code> instance by using the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/Name.html">@Name</a> annotation.</p>
</div>
<div class="paragraph">
<p>For example, the method below will only receive events for the <code>Coherence</code> instance named <code>customers</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Name("customers") CoherenceLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method in this example will receive events for the default <code>Coherence</code> instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Name(Coherence.DEFAULT_NAME) CoherenceLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="cache-lifecycle-events"><a class="anchor" href="#cache-lifecycle-events"></a>3.6.2.5. Cache Lifecycle Events</h5>
<div class="paragraph">
<p><a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/cache/CacheLifecycleEvent.html">CacheLifecycleEvent</a> are emitted to indicate the lifecycle of a cache instance.</p>
</div>
<div class="paragraph">
<p>To subscribe to <code>CacheLifecycleEvent</code> simply create a Spring bean with a listener method annotated with <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>CacheLifecycleEvent</code>.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive lifecycle events for all caches.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(CacheLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="receive-specific-cachelifecycleevent-types"><a class="anchor" href="#receive-specific-cachelifecycleevent-types"></a>Receive Specific CacheLifecycleEvent Types</h6>
<div class="paragraph">
<p>There are three types of `CacheLifecycleEvent:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Created</strong> - a cache instance has been created, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Created.html">@Created</a> annotation</p>
</li>
<li>
<p><strong>Truncated</strong> - a cache instance has been truncated (all data was removed), use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Truncated.html">@Truncated</a> annotation</p>
</li>
<li>
<p><strong>Destroyed</strong> - a cache has been destroyed (destroy is a cluster wide operation, so the cache is destroyed on all members of the cluster and clients) use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Destroyed.html">@Destroyed</a> annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the method below will only receive <code>Created</code> and <code>Destroyed</code> events for all caches.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Created @Destroyed CacheLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-cachelifecycleevents-for-a-specific-namedmap-or-namedcache"><a class="anchor" href="#receive-cachelifecycleevents-for-a-specific-namedmap-or-namedcache"></a>Receive CacheLifecycleEvents for a Specific NamedMap or NamedCache</h6>
<div class="paragraph">
<p>To only receive events for a specific <code>NamedMap</code> annotate the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/MapName.html">@MapName</a> annotation.
To only receive events for a specific <code>NamedCache</code> annotate the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CacheName.html">@CacheName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The <code>@MapName</code> and <code>@CacheName</code> annotations are actually interchangeable so use whichever reads better for your application code, i.e. if your code is dealing with <code>NamedMap</code> used <code>@MapName</code>. At the storage level, where the events are generated a <code>NamedMap</code> and <code>NamedCache</code> are the same.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the map named <code>orders</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@MapName("orders") CacheLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-cachelifecycleevents-from-a-specific-cache-service"><a class="anchor" href="#receive-cachelifecycleevents-from-a-specific-cache-service"></a>Receive CacheLifecycleEvents from a Specific Cache Service</h6>
<div class="paragraph">
<p>Caches are owned by a Cache Service, it is possible to restrict events received by a method to only those related to caches owned by a specific service by annotating the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/ServiceName.html">@ServiceName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the caches owned by the service named <code>StorageService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@ServiceName("StorageService") CacheLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-cachelifecycleevents-from-a-specific-session"><a class="anchor" href="#receive-cachelifecycleevents-from-a-specific-session"></a>Receive CacheLifecycleEvents from a Specific Session</h6>
<div class="paragraph">
<p>A typical use case is to obtain <code>NamedCache</code> and <code>NamedMap</code> instances from a <code>Session</code>. It is possible to restrict events received by a method to only those related to caches owned by a specific <code>Session</code> by annotating the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/SessionName.html">@SessionName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the caches owned by the <code>Session</code> named <code>BackEnd</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@SessionName("BackEnd") CacheLifecycleEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="entry-events"><a class="anchor" href="#entry-events"></a>3.6.2.6. Entry Events</h5>
<div class="paragraph">
<p>An <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/cache/EntryProcessorEvent.html">EntryProcessorEvent</a> is emitted when a <a href="https://coherence.community/20.12/api/java/com/tangosol/util/EntryProcessor.html">EntryProcessor</a> is invoked on a cache. These events are only emitted on the storage enabled member that is the primary owner of the entry that the <code>EntryProcessor</code> is invoked on.</p>
</div>
<div class="paragraph">
<p>To subscribe to <code>EntryProcessorEvent</code> simply create a Spring bean with a listener method annotated with <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>EntryProcessorEvent</code>.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive entry events for all caches.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(EntryProcessorEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="receive-specific-entryprocessorevent-types"><a class="anchor" href="#receive-specific-entryprocessorevent-types"></a>Receive Specific EntryProcessorEvent Types</h6>
<div class="paragraph">
<p>There are a number of different <code>EntryProcessorEvent</code> types.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Inserting</strong> - an entry is being inserted into a cache, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Inserting.html">@Inserting</a> annotation</p>
</li>
<li>
<p><strong>Inserted</strong> - an entry has been inserted into a cache, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Inserted.html">@Inserted</a> annotation</p>
</li>
<li>
<p><strong>Updating</strong> - an entry is being updated in a cache, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Updating.html">@Updating</a> annotation</p>
</li>
<li>
<p><strong>Updated</strong> - an entry has been updated in a cache, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Updated.html">@Updated</a> annotation</p>
</li>
<li>
<p><strong>Deleting</strong> - an entry is being deleted from a cache, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Deleting.html">@Deleting</a> annotation</p>
</li>
<li>
<p><strong>Deleted</strong> - an entry has been deleted from a cache, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Deleted.html">@Deleted</a> annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To restrict the <code>EntryProcessorEvent</code> types received by a method apply one or more of the annotations above to the method parameter. For example, the method below will receive <code>Inserted</code> and <code>Deleted</code> events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Inserted @Deleted EntryProcessorEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The event types fall into two categories, pre-events (those name *ing) and post-events, those named *ed). Pre-events are emitted synchronously before the entry is mutated. Post-events are emitted asynchronously after the entry has been mutated.</p>
</div>
<div class="paragraph">
<p>As pre-events are synchronous the listener method should not take a long time to execute as it is blocking the cache mutation and could obviously be a performance impact. It is also important that developers understand Coherence reentrancy as the pre-events are executing on the Cache Service thread so cannot call into caches owned by the same service.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="receive-entryprocessorevents-for-a-specific-namedmap-or-namedcache"><a class="anchor" href="#receive-entryprocessorevents-for-a-specific-namedmap-or-namedcache"></a>Receive EntryProcessorEvents for a Specific NamedMap or NamedCache</h6>
<div class="paragraph">
<p>To only receive events for a specific <code>NamedMap</code> annotate the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/MapName.html">@MapName</a> annotation.
To only receive events for a specific <code>NamedCache</code> annotate the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CacheName.html">@CacheName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The <code>@MapName</code> and <code>@CacheName</code> annotations are actually interchangeable so use whichever reads better for your application code, i.e. if your code is dealing with <code>NamedMap</code> used <code>@MapName</code>. At the storage level, where the events are generated a <code>NamedMap</code> and <code>NamedCache</code> are the same.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the map named <code>orders</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@MapName("orders") EntryProcessorEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-entryprocessorevents-from-a-specific-cache-service"><a class="anchor" href="#receive-entryprocessorevents-from-a-specific-cache-service"></a>Receive EntryProcessorEvents from a Specific Cache Service</h6>
<div class="paragraph">
<p>Caches are owned by a Cache Service, it is possible to restrict events received by a method to only those related to caches owned by a specific service by annotating the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/ServiceName.html">@ServiceName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the caches owned by the service named <code>StorageService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@ServiceName("StorageService") EntryProcessorEvents event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-entryprocessorevents-from-a-specific-session"><a class="anchor" href="#receive-entryprocessorevents-from-a-specific-session"></a>Receive EntryProcessorEvents from a Specific Session</h6>
<div class="paragraph">
<p>A typical use case is to obtain <code>NamedCache</code> and <code>NamedMap</code> instances from a <code>Session</code>. It is possible to restrict events received by a method to only those related to caches owned by a specific <code>Session</code> by annotating the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/SessionName.html">@SessionName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the caches owned by the <code>Session</code> named <code>BackEnd</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@SessionName("BackEnd") EntryProcessorEvents event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="entryprocessor-events"><a class="anchor" href="#entryprocessor-events"></a>3.6.2.7. EntryProcessor Events</h5>
<div class="paragraph">
<p>An <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/cache/EntryProcessorEvent.html">EntryProcessorEvent</a> is emitted when a mutation occurs on an entry in a cache. These events are only emitted on the storage enabled member that is the primary owner of the entry.</p>
</div>
<div class="paragraph">
<p>To subscribe to <code>EntryProcessorEvent</code> simply create a Spring bean with a listener method annotated with <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>EntryProcessorEvent</code>.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive entry events for all caches.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(EntryProcessorEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="receive-specific-entryprocessorevent-types-2"><a class="anchor" href="#receive-specific-entryprocessorevent-types-2"></a>Receive Specific EntryProcessorEvent Types</h6>
<div class="paragraph">
<p>There are a number of different <code>EntryProcessorEvent</code> types.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executing - an <code>EntryProcessor</code> is being invoked on a cache, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Executing.html">@Executing</a> annotation</p>
</li>
<li>
<p>Executed - an <code>EntryProcessor</code> has been invoked on a cache, use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Executed.html">@Executed</a> annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To restrict the <code>EntryProcessorEvent</code> types received by a method apply one or more of the annotations above to the method parameter. For example, the method below will receive <code>Executed</code> events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Executed EntryProcessorEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The event types fall into two categories, pre-event ('Executing') and post-event (<code>Executed</code>). Pre-events are emitted synchronously before the <code>EntryProcessor</code> is invoked. Post-events are emitted asynchronously after the <code>EntryProcessor</code> has been invoked.</p>
</div>
<div class="paragraph">
<p>As pre-events are synchronous the listener method should not take a long time to execute as it is blocking the <code>EntryProcessor</code> invocation and could obviously be a performance impact. It is also important that developers understand Coherence reentrancy as the pre-events are executing on the Cache Service thread so cannot call into caches owned by the same service.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="receive-entryprocessorevents-for-a-specific-namedmap-or-namedcache-2"><a class="anchor" href="#receive-entryprocessorevents-for-a-specific-namedmap-or-namedcache-2"></a>Receive EntryProcessorEvents for a Specific NamedMap or NamedCache</h6>
<div class="paragraph">
<p>To only receive events for a specific <code>NamedMap</code> annotate the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/MapName.html">@MapName</a> annotation.
To only receive events for a specific <code>NamedCache</code> annotate the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CacheName.html">@CacheName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The <code>@MapName</code> and <code>@CacheName</code> annotations are actually interchangeable so use whichever reads better for your application code, i.e. if your code is dealing with <code>NamedMap</code> used <code>@MapName</code>. At the storage level, where the events are generated a <code>NamedMap</code> and <code>NamedCache</code> are the same.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the map named <code>orders</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@MapName("orders") EntryProcessorEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-entryprocessorevents-from-a-specific-cache-service-2"><a class="anchor" href="#receive-entryprocessorevents-from-a-specific-cache-service-2"></a>Receive EntryProcessorEvents from a Specific Cache Service</h6>
<div class="paragraph">
<p>Caches are owned by a Cache Service, it is possible to restrict events received by a method to only those related to caches owned by a specific service by annotating the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/ServiceName.html">@ServiceName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the caches owned by the service named <code>StorageService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@ServiceName("StorageService") EntryProcessorEvents event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-entryprocessorevents-from-a-specific-session-2"><a class="anchor" href="#receive-entryprocessorevents-from-a-specific-session-2"></a>Receive EntryProcessorEvents from a Specific Session</h6>
<div class="paragraph">
<p>A typical use case is to obtain <code>NamedCache</code> and <code>NamedMap</code> instances from a <code>Session</code>. It is possible to restrict events received by a method to only those related to caches owned by a specific <code>Session</code> by annotating the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/SessionName.html">@SessionName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the caches owned by the <code>Session</code> named <code>BackEnd</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@SessionName("BackEnd") EntryProcessorEvents event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="partition-level-transaction-events"><a class="anchor" href="#partition-level-transaction-events"></a>3.6.2.8. Partition Level Transaction Events</h5>
<div class="paragraph">
<p>A <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransactionEvent.html">TransactionEvent</a> is emitted in relation to all mutations in a single partition in response to executing a single request.
These are commonly referred to as partition level transactions.
For example, an <code>EntryProcessor</code> that mutates more than one entry (which could be in multiple caches) as part of a single invocation will cause a partition level transaction to occur encompassing all of those cache entries.</p>
</div>
<div class="paragraph">
<p>Transaction events are emitted by storage enabled cache services, they will only e received on the same member that the partition level transaction occurred.</p>
</div>
<div class="paragraph">
<p>To subscribe to <code>TransactionEvent</code> simply create a Spring bean with a listener method annotated with <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>TransactionEvent</code>.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive all transaction events emitted by storage enabled cache services in the same JVM.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(TransactionEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="receive-specific-transactionevent-types"><a class="anchor" href="#receive-specific-transactionevent-types"></a>Receive Specific TransactionEvent Types</h6>
<div class="paragraph">
<p>There are a number of different <code>TransactionEvent</code> types.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Committing</strong> - A COMMITTING event is raised prior to any updates to the underlying backing map.
This event will contain all modified entries which may span multiple backing maps. Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Inserting.html">@Committing</a> annotation</p>
</li>
<li>
<p><strong>Committed</strong> - A COMMITTED event is raised after any mutations have been committed to the underlying backing maps.
This event will contain all modified entries which may span multiple backing maps.
Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Inserted.html">@Committed</a> annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To restrict the <code>TransactionEvent</code> types received by a method apply one or more of the annotations above to the method parameter. For example, the method below will receive <code>Committed</code> events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Committed TransactionEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="receive-transactionevent-from-a-specific-cache-service"><a class="anchor" href="#receive-transactionevent-from-a-specific-cache-service"></a>Receive TransactionEvent from a Specific Cache Service</h6>
<div class="paragraph">
<p>Caches are owned by a Cache Service, it is possible to restrict events received by a method to only those related to caches owned by a specific service by annotating the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/ServiceName.html">@ServiceName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the caches owned by the service named <code>StorageService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@ServiceName("StorageService") TransactionEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="partition-transfer-events"><a class="anchor" href="#partition-transfer-events"></a>3.6.2.9. Partition Transfer Events</h5>
<div class="paragraph">
<p>A <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransferEvent.html">TransferEvent</a> captures information concerning the transfer of a partition for a storage enabled member. Transfer events are raised against the set of <a href="https://coherence.community/20.12/api/java/com/tangosol/util/BinaryEntry.html">BinaryEntry</a> instances that are being transferred.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
TransferEvents are dispatched to interceptors while holding a lock on the partition being transferred, blocking any operations for the partition. Event observer methods should therfore execute as quickly as possible of hand-off execution to another thread.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To subscribe to <code>TransferEvent</code> simply create a Spring bean with a listener method annotated with <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>TransferEvent</code>.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive all transaction events emitted by storage enabled cache services in the same JVM.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(TransferEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="receive-specific-transferevent-types"><a class="anchor" href="#receive-specific-transferevent-types"></a>Receive Specific TransferEvent Types</h6>
<div class="paragraph">
<p>There are a number of different <code>TransferEvent</code> types.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Arrived</strong> - This <code>TransferEvent</code> is dispatched when a set of <code>BinaryEntry</code> instances have been transferred to the <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransferEvent.html#getLocalMember()">local member</a> or restored from backup.The reason for the event (primary transfer from another member or restore from backup) can be derived as follows:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">TransferEvent event;
boolean restored = event.getRemoteMember() == event.getLocalMember();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Arrived.html">@Arrived</a> annotation to restrict the received events to arrived type.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Assigned</strong> -  This <code>TransferEvent</code> is dispatched when a partition has been assigned to the <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransferEvent.html#getLocalMember()">local member</a>. This event will only be emitted by the ownership senior during the initial partition assignment.
Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Assigned.html">@Assigned</a> annotation to restrict received events.</p>
</li>
<li>
<p><strong>Departing</strong> - This <code>TransferEvent</code> is dispatched when a set of <code>BinaryEntry</code> are being transferred from the <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransferEvent.html#getLocalMember()">local member</a>. This event is followed by either a <code>Departed</code> or <code>Rollback</code> event to indicate the success or failure of the transfer.
Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Departing.html">@Departing</a> annotation to restrict received events.</p>
</li>
<li>
<p><strong>Departed</strong> - This <code>TransferEvent</code> is dispatched when a partition has been successfully transferred from the <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransferEvent.html#getLocalMember()">local member</a>. To derive the <code>BinaryEntry</code> instances associated with the transfer, consumers should subscribe to the <code>Departing</code> event that would precede this event.
Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Departed.html">@Departed</a> annotation to restrict received events.</p>
</li>
<li>
<p><strong>Lost</strong> - This <code>TransferEvent</code> is dispatched when a partition has been orphaned (data loss <em>may</em> have occurred), and the ownership is assumed by the <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransferEvent.html#getLocalMember()">local member</a>. This event is only be emitted by the ownership senior.
Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Lost.html">@Lost</a> annotation to restrict received events.</p>
</li>
<li>
<p><strong>Recovered</strong> - This <code>TransferEvent</code> is dispatched when a set of <code>BinaryEntry</code> instances have been recovered from a persistent storage by the <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/TransferEvent.html#getLocalMember()">local member</a>.
Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Recovered.html">@Recovered</a> annotation to restrict received events.</p>
</li>
<li>
<p><strong>Rollback</strong> - This <code>TransferEvent</code> is dispatched when partition transfer has failed and was therefore rolled back. To derive the <code>BinaryEntry</code> instances associated with the failed transfer, consumers should subscribe to the <code>Departing</code> event that would precede this event.
Use the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/Rollback.html">@Rollback</a> annotation to restrict received events.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To restrict the <code>TransferEvent</code> types received by a method apply one or more of the annotations above to the method parameter. For example, the method below will receive <code>Lost</code> events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@Lost TransferEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple type annotations may be used to receive multiple types of <code>TransferEvent</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="receive-transferevent-from-a-specific-cache-service"><a class="anchor" href="#receive-transferevent-from-a-specific-cache-service"></a>Receive TransferEvent from a Specific Cache Service</h6>
<div class="paragraph">
<p>Caches are owned by a Cache Service, it is possible to restrict events received by a method to only those related to caches owned by a specific service by annotating the method parameter with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/ServiceName.html">@ServiceName</a> annotation.</p>
</div>
<div class="paragraph">
<p>The method below will only receive events for the caches owned by the service named <code>StorageService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(@ServiceName("StorageService") TransferEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="unsolicited-commit-events"><a class="anchor" href="#unsolicited-commit-events"></a>3.6.2.10. Unsolicited Commit Events</h5>
<div class="paragraph">
<p>An <a href="https://coherence.community/20.12/api/java/com/tangosol/net/events/partition/UnsolicitedCommitEvent.html">UnsolicitedCommitEvent</a> captures changes pertaining to all observed mutations performed against caches that were not directly caused (solicited) by the partitioned service. These events may be due to changes made internally by the backing map, such as eviction, or referrers of the backing map causing changes.</p>
</div>
<div class="paragraph">
<p>Unsolicited commit events are emitted by storage enabled cache services, they will only e received on the same member.</p>
</div>
<div class="paragraph">
<p>To subscribe to <code>UnsolicitedCommitEvent</code> simply create a Spring bean with a listener method annotated with <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/event/CoherenceEventListener.html">@CoherenceEventListener</a>.
The method should have a single parameter of type <code>UnsolicitedCommitEvent</code>.</p>
</div>
<div class="paragraph">
<p>For example, the <code>onEvent</code> method below will receive all Unsolicited commit events emitted by storage enabled cache services in the same JVM.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@CoherenceEventListener
public void onEvent(UnsolicitedCommitEvent event) {
    // TODO: process the event
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="coherence-spring-filter-binding-annotations"><a class="anchor" href="#coherence-spring-filter-binding-annotations"></a>3.7. Filter Binding Annotations</h3>
<div class="paragraph">
<p>Filter binding annotations are normal annotations that are themselves annotated with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/FilterBinding.html">@FilterBinding</a> meta-annotation.
A filter binding annotation represents a Coherence <a href="https://coherence.community/20.12/api/java/com/tangosol/util/Filter.html">Filter</a> and is used
to specify a <code>Filter</code> in certain injection points, for example a View (CQC), <code>NamedTopic</code> <code>Subscriber</code> beans,
event listeners, etc.</p>
</div>
<div class="paragraph">
<p>There are three parts to using a filter binding:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The filter binding annotation</p>
</li>
<li>
<p>An implementation of a <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/FilterFactory.html">FilterFactory</a> that
is annotated with the filter binding annotation. This is a factory that produces the required <code>Filter</code>.</p>
</li>
<li>
<p>Injection points annotated with the filter binding annotation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We will put all three parts together in an example. Let&#8217;s use a Coherence <code>NamedMap</code> named <code>plants</code> that contains plants
represented by instances of the <code>Plant</code> class as map values. Among the various properties on the <code>Plant</code> class there is
a property called <code>plantType</code> and a property called <code>height</code>. In this exaple, we want to inject a view that only shows
large palm trees (any palm tree larger than 20 meters). We would need a <code>Filter</code> that has a condition like the following:
<code>plantType == PlantType.PALM &amp;&amp; height &gt;= 20</code>.</p>
</div>
<div class="sect3">
<h4 id="create-the-filter-binding-annotation"><a class="anchor" href="#create-the-filter-binding-annotation"></a>3.7.1. Create the filter binding annotation</h4>
<div class="paragraph">
<p>First create a simple annotation, it could be called something like <code>PlantNameExtractor</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import java.lang.annotation.Documented;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;

import com.oracle.coherence.spring.annotation.FilterBinding;

@FilterBinding                             <i class="conum" data-value="1"></i><b>(1)</b>
@Documented
@Retention(RetentionPolicy.RUNTIME)
public @interface LargePalmTrees {         <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The annotation class is annotated with <code>@FilterBinding</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The annotation name is <code>PlantNameExtractor</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this case the annotation does not need any other attributes.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-the-filterfactory"><a class="anchor" href="#create-the-filterfactory"></a>3.7.2. Create the <code>FilterFactory</code></h4>
<div class="paragraph">
<p>Now create the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/FilterFactory.html">FilterFactory</a> implementation
that will produce instances of the required <code>Filter</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.oracle.coherence.spring.annotation.FilterFactory;
import com.tangosol.util.Extractors;
import com.tangosol.util.Filter;
import com.tangosol.util.Filters;
import org.springframework.stereotype.Component;

@LargePalmTrees                                                              <i class="conum" data-value="1"></i><b>(1)</b>
@Component                                                                   <i class="conum" data-value="2"></i><b>(2)</b>
public class LargePalmTreesFilterFactory&lt;Plant&gt;
        implements FilterFactory&lt;LargePalmTrees, Plant&gt; {
    @Override
    public Filter&lt;Plant&gt; create(LargePalmTrees annotation) {                 <i class="conum" data-value="3"></i><b>(3)</b>
        Filter&lt;Plant&gt; palm = Filters.equal("plantType", PlantType.PALM);
        Filter&lt;Plant&gt; height = Filters.greaterEqual(
                Extractors.extract("height"), 20);
        return Filters.all(palm, height);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The class is annotated with the <code>PlantNameExtractor</code> filter binding annotation</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The class must be a Spring bean, let&#8217;s annotate it with <code>@Component</code> so that component scanning will pick this class
up as a Spring bean</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>create</code> method uses the Coherence <code>filters</code> API to create the required <code>filter</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The parameter to the <code>create</code> method is the annotation used on the injection point.
In this case the annotation has no values, but if it did we could access those values to customize how the filter is created.</p>
</div>
<div class="paragraph">
<p>For example, we can make the filter more general purpose by calling the annotation <code>@PalmTrees</code> and by
adding a value parameter representing the height like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@FilterBinding
@Documented
@Retention(RetentionPolicy.RUNTIME)
public @interface PalmTrees {
    String value();
}
@FilterBinding
@Documented
@Retention(RetentionPolicy.RUNTIME)
public @interface PalmTrees {
    int value() default 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We then need to modify our filter factory to use the height value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.oracle.coherence.spring.annotation.FilterFactory;
import com.tangosol.util.Extractors;
import com.tangosol.util.Filter;
import com.tangosol.util.Filters;
import org.springframework.stereotype.Component;

@PalmTrees                                                                  <i class="conum" data-value="1"></i><b>(1)</b>
@Component                                                                  <i class="conum" data-value="2"></i><b>(2)</b>
public class PalmTreesFilterFactory&lt;Plant&gt;
        implements FilterFactory&lt;PalmTrees, Plant&gt; {
    @Override
    public Filter&lt;Plant&gt; create(PalmTrees annotation) {                     <i class="conum" data-value="3"></i><b>(3)</b>
        Filter&lt;Plant&gt; palm = Filters.equal("plantType", PlantType.PALM);
        Filter&lt;Plant&gt; height = Filters.greaterEqual(
                Extractors.extract("height"), annotation.value());    <i class="conum" data-value="4"></i><b>(4)</b>
        return Filters.all(palm, height);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The class is annotated with the more flexible <code>PalmTrees</code> filter binding annotation accepting a height parameter</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The class must be a Spring bean, let&#8217;s annotate it with <code>@Component</code> so that component scanning will pick this class
up as a Spring bean</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>create</code> method uses the Coherence <code>filters</code> API to create the required <code>filter</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Instead of hard-coding the height, we use the value from the <code>@PalmTrees</code> annotation</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="annotate-the-injection-point"><a class="anchor" href="#annotate-the-injection-point"></a>3.7.3. Annotate the Injection Point</h4>
<div class="paragraph">
<p>Now the application code where the view is to be injected can use the custom filter binding annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @View                                                                    <i class="conum" data-value="1"></i><b>(1)</b>
    @PalmTrees(1)                                                            <i class="conum" data-value="2"></i><b>(2)</b>
    @Name("plants")                                                          <i class="conum" data-value="3"></i><b>(3)</b>
    @Resource(name = "getCache")                                             <i class="conum" data-value="4"></i><b>(4)</b>
    private NamedMap&lt;Long, Plant&gt; palmTrees;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>@View</code> annotation indicates that this is a view rather than a plain <code>NamedMap</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>@PalmTrees</code> annotation links to the custom filter factory which is used to create the filter for the view. The
annotation value of <code>1</code> indicates that we are interested in all palm trees of at least 1 meter in height.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>@Name</code> annotation indicates the underlying cache/map name to use for the view</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Due to some Spring limitations, we have to use the <code>@Resource</code> annotation to inject the <code>NamedMap</code> as we need to match
the underlying bean by name.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="coherence-spring-extractor-binding-annotations"><a class="anchor" href="#coherence-spring-extractor-binding-annotations"></a>3.8. Extractor Binding Annotations</h3>
<div class="paragraph">
<p>ValueExtractor binding annotations are normal annotations that are themselves annotated with the
<a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/annotation/ExtractorBinding.html">@ExtractorBinding</a> meta-annotation.
An extractor binding annotation represents a Coherence <a href="https://coherence.community/20.12/api/java/com/tangosol/util/ValueExtractor.html">ValueExtractor</a>
and is used to specify a <code>ValueExtractor</code> in certain injection points, for example a View (CQC), <code>NamedTopic</code> <code>Subscriber</code>
beans, <code>MapEvent</code> listeners, etc.</p>
</div>
<div class="paragraph">
<p>There are three parts to using an extractor binding:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The extractor binding annotation</p>
</li>
<li>
<p>An implementation of a <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/ExtractorFactory.html">ExtractorFactory</a> that is annotated with the extractor binding annotation. This is a factory that produces the required <code>ValueExtractor</code>.</p>
</li>
<li>
<p>Injection points annotated with the extractor binding annotation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As an example, let&#8217;s continue with our previous example, where we have a Coherence <code>NamedMap</code> named <code>plants</code> that contains
<code>Plant</code> instances as values. In this example we are interested in inject a map of plant names instead of the actual
plant instances. Each plant has a <code>name</code> property that we will use for that purpose. We will need a <code>ValueExtractor</code> that
extracts the <code>name</code> property and the resulting map of plant names can be injected into our Spring beans.</p>
</div>
<div class="sect3">
<h4 id="create-the-extractor-binding-annotation"><a class="anchor" href="#create-the-extractor-binding-annotation"></a>3.8.1. Create the extractor binding annotation</h4>
<div class="paragraph">
<p>First create a simple annotation called <code>PlantName</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ExtractorBinding                         <i class="conum" data-value="1"></i><b>(1)</b>
@Documented
@Retention(RetentionPolicy.RUNTIME)
public @interface PersonAge {            <i class="conum" data-value="2"></i><b>(2)</b>
}

import com.oracle.coherence.spring.annotation.ExtractorBinding;
import com.oracle.coherence.spring.annotation.FilterBinding;

import java.lang.annotation.Documented;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;

@ExtractorBinding                              <i class="conum" data-value="1"></i><b>(1)</b>
@Documented
@Retention(RetentionPolicy.RUNTIME)
public @interface PlantNameExtractor {         <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The annotation class is annotated with <code>@ExtractorBinding</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The annotation name is <code>PlantNameExtractor</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this case the annotation does not need any other attributes.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-the-extractorfactory"><a class="anchor" href="#create-the-extractorfactory"></a>3.8.2. Create the <code>ExtractorFactory</code></h4>
<div class="paragraph">
<p>Now create the <a href="https://spring.coherence.community/3.0.0-SNAPSHOT/refdocs/api/com/oracle/coherence/spring/ExtractorFactory.html">ExtractorFactory</a>
implementation that will produce instances of the required <code>ValueExtractor</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.oracle.coherence.spring.annotation.ExtractorFactory;
import com.tangosol.util.Extractors;
import com.tangosol.util.ValueExtractor;
import org.springframework.stereotype.Component;

@PlantNameExtractor                                                         <i class="conum" data-value="1"></i><b>(1)</b>
@Component                                                                  <i class="conum" data-value="2"></i><b>(2)</b>
public class PlantNameExtractorFactory&lt;Plant&gt;
        implements ExtractorFactory&lt;PlantNameExtractor, Plant, String&gt; {
    @Override
    public ValueExtractor&lt;Plant, String&gt; create(PlantNameExtractor annotation) {  <i class="conum" data-value="3"></i><b>(3)</b>
        return Extractors.extract("name");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The class is annotated with the <code>PlantNameExtractor</code> extractor binding annotation</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The class must be a Spring bean, let&#8217;s annotate it with <code>@Component</code> so that component scanning will pick this class
up as a Spring bean</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>create</code> method uses the Coherence <code>Extractors</code> API to create the required extractor, in this case a trivial property extractor.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The parameter to the <code>create</code> method is the annotation used on the injection point.
In this case the annotation has no values, but if it did we could access those values to customize how the <code>ValueExtractor</code> is created.</p>
</div>
</div>
<div class="sect3">
<h4 id="annotate-the-injection-point-2"><a class="anchor" href="#annotate-the-injection-point-2"></a>3.8.3. Annotate the Injection Point</h4>
<div class="paragraph">
<p>Now the application code where the view is to be injected can use the custom extractor binding annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@View               <i class="conum" data-value="1"></i><b>(1)</b>
@PersonAge          <i class="conum" data-value="2"></i><b>(2)</b>
@Name("people")     <i class="conum" data-value="3"></i><b>(3)</b>
private NamedMap&lt;String, Integer&gt; ages;   <i class="conum" data-value="4"></i><b>(4)</b>
    @View                                                                    <i class="conum" data-value="1"></i><b>(1)</b>
    @PlantNameExtractor                                                      <i class="conum" data-value="2"></i><b>(2)</b>
    @Name("plants")                                                          <i class="conum" data-value="3"></i><b>(3)</b>
    @Resource(name = "getCache")                                             <i class="conum" data-value="4"></i><b>(4)</b>
    private NamedMap&lt;Long, String&gt; plants;                                   <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>@View</code> annotation indicates that this is a view rather than a plain <code>NamedMap</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>@PlantNameExtractor</code> annotation links to the custom extractor factory used to create the <code>ValueExtractor</code> for the view</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>@Name</code> annotation indicates the underlying cache/map name to use for the view</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Due to some Spring limitations, we have to use the <code>@Resource</code> annotation to inject the <code>NamedMap</code> as we need to match
the underlying bean by name.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Note that the <code>NamedMap</code> generics are now <code>Long</code> and <code>String</code> instead of <code>Long</code> and <code>Plant</code> as the <code>Plant</code> values
from the underlying cache are transformed into <code>String</code> values by extracting just the name property.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-cache"><a class="anchor" href="#spring-cache"></a>4. Coherence Spring Cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Cache module. It explains how to use
Coherence&#8217;s support for the Spring Framework&#8217;s <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache">Cache Abstraction</a>.</p>
</div>
<div class="sect2">
<h3 id="spring-cache-introduction"><a class="anchor" href="#spring-cache-introduction"></a>4.1. Introduction</h3>
<div class="paragraph">
<p>Spring provides its own cache abstraction, allowing you to add caching to
Java methods. Coherence Spring provides an implementation of this abstraction for
Oracle Coherence.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Spring&#8217;s Cache abstraction also supports <a href="https://jcp.org/en/jsr/detail?id=107">JSR-107</a> which is also supported by
Oracle Coherence. As such you have another alternative for setting up caching.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are using JPA/Hibernate you may also consider using the Coherence support for Hibernate&#8217;s second-level cache SPI,
which is provided by the <a href="https://github.com/coherence-community/coherence-hibernate">Coherence Hibernate project</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="spring-cache-configuration"><a class="anchor" href="#spring-cache-configuration"></a>4.2. Configuring Coherence Cache for Spring</h3>
<div class="paragraph">
<p>As a start, please familiarize yourself with Spring&#8217;s Cache Abstraction by reading the
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache">relevant section</a>
of Spring&#8217;s reference documentation.</p>
</div>
<div class="listingblock primary">
<div class="title">Properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">example:
  property:
    alpha: a</code></pre>
</div>
</div>
<div class="listingblock primary">
<div class="title">Properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">spring:
  devtools:
    restart:
      exclude: "static/**,public/**"</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 4. Creating a CoherenceInstance</div>
<div class="content">
<div class="listingblock primary">
<div class="title">Java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
@EnableCaching
public class CacheConfiguration {

    @Bean
    public CoherenceInstance coherenceInstance() {
      return new CoherenceInstance();
    }

    @Bean
    public CacheManager cacheManager(CoherenceInstance coherenceInstance) {
      return new CoherenceCacheManager(coherenceInstance);
    }
}</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">XML</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:cache="http://www.springframework.org/schema/cache"
  xsi:schemaLocation="
    http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/cache https://www.springframework.org/schema/cache/spring-cache.xsd"&gt;

  &lt;cache:annotation-driven/&gt;

  &lt;bean id="coherenceInstance" class="com.oracle.coherence.spring.CoherenceInstance"/&gt;

  &lt;bean id="cacheManager" class="com.oracle.coherence.spring.cache.CoherenceCacheManager"&gt;
    &lt;constructor-arg ref="coherenceInstance"/&gt;
  &lt;/bean&gt;
&lt;/beans&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-session"><a class="anchor" href="#spring-session"></a>5. Coherence Spring Session</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Session module. It explains how to use
Coherence&#8217;s support for <a href="https://docs.spring.io/spring-session/docs/curent/reference/html5/">Spring Session</a>.</p>
</div>
<div class="sect2">
<h3 id="spring-session-introduction"><a class="anchor" href="#spring-session-introduction"></a>5.1. Getting Started</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-data"><a class="anchor" href="#spring-data"></a>6. Coherence Spring Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Data module. It explains how to use
Coherence&#8217;s support for <a href="https://docs.spring.io/spring-session/docs/curent/reference/html5/">Spring Data</a> repositories.</p>
</div>
<div class="sect2">
<h3 id="spring-data-introduction"><a class="anchor" href="#spring-data-introduction"></a>6.1. Getting Started</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-boot"><a class="anchor" href="#spring-boot"></a>7. Coherence Spring Boot</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Boot module. It explains how to use
Coherence&#8217;s dedicated support for <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Boot</a>, e.g. Autoconfiguration.</p>
</div>
<div class="sect2">
<h3 id="spring-boot-getting-started"><a class="anchor" href="#spring-boot-getting-started"></a>7.1. Getting Started</h3>
<div class="paragraph">
<p>In order to start using Coherence with Spring Boot you have to add the <code>coherence-spring-boot-starter</code> dependency as well
as the desired version of Coherence.</p>
</div>
<div class="listingblock">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.oracle.coherence.spring&lt;/groupId&gt;
        &lt;artifactId&gt;coherence-spring-boot-starter&lt;/artifactId&gt;
        &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
        &lt;artifactId&gt;coherence&lt;/artifactId&gt;
        &lt;version&gt;21.06-M1&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">dependencies {
    compile("com.oracle.coherence.spring:coherence-spring-boot-starter:3.0.0-SNAPSHOT")
    compile("com.oracle.coherence.ce:coherence:21.06-M1")
}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
As Coherence Spring takes advantage of the new Coherence Bootstrap API, it requires Oracle Coherence CE version
<code>20.12</code> or higher.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="spring-boot-using-coherence"><a class="anchor" href="#spring-boot-using-coherence"></a>7.2. Using Coherence with Spring Boot</h3>
<div class="paragraph">
<p>By adding the <code>coherence-spring-boot-starter</code> dependency, AutoConfiguration will be activated via the <code>CoherenceAutoConfiguration</code>
class. This will also bind the <code>CoherenceProperties</code> for further configuration. The configuration for Spring Boot&#8217;s
Coherence support may look like the following:</p>
</div>
<div class="listingblock primary">
<div class="title">Example YAML configuration (Properties)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Example YAML configuration (Yaml)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">coherence:
  logging:
    destination: slf4j
    logger-name: MyCoherence
  sessions:
  - name: default
    config: "coherence-cache-config.xml"
    priority: 1
  - name: test
    config: "test-coherence-config.xml"
    priority: 2
  properties:
    coherence.log.limit: 400
    coherence.log.level: 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following configuration properties are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Coherence Configuration Properties</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.logging.destination</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the logging destination. Default to <code>slf4j</code> if not set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.logging.severity-level</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies which logged messages are emitted to the log destination. The legal values are <code>-1</code> to <code>9</code>.
No messages are emitted if <code>-1</code> is specified. More log messages are emitted as the log level is increased.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.logging.logger-name</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.logging.message-format</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.logging.character-limit</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.properties.*</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any native Coherence properties</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.sessions[0].name</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.sessions[0].type</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the various session type that can be configured: CLIENT, SERVER, GRPC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.sessions[0].config</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Coherence cache configuration URI for the session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.sessions[0].priority</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The priority order to be used when starting the session. Sessions will be started with the lowest priority first.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coherence.sessions[0].scope-name</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scope name for the session.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
All but the session property are translated into native Coherence properties. If both
Spring Boot property AND a native property <code>coherence.properties.*</code> are configured, the Spring Boot
property is used.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a list of available native properties, please consult the reference guide chapter on
<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.0/develop-applications/system-property-overrides.html#GUID-32230D28-4976-4147-A887-0A0120FF5C7E">System Property Overrides</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="spring-boot-customize-coherence"><a class="anchor" href="#spring-boot-customize-coherence"></a>7.3. Customize Coherence</h3>

</div>
<div class="sect2">
<h3 id="spring-boot-config-data-api"><a class="anchor" href="#spring-boot-config-data-api"></a>7.4. Coherence Support of the Spring Boot ConfigData API</h3>
<div class="paragraph">
<p>Starting with Spring Boot <code>2.4.x</code> you can define your own
<a href="https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4">custom config locations</a>. This allows you to
import these as property sources. As such, Coherence Spring allows you to use a Coherence cluster as a source of
configuration data for your Spring Boot based applications.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please also consult the Spring Boot reference guide on <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config">Externalized Configuration</a>,
especially the chapter on <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-files-importing">Importing Additional Data</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please also see the chapter on <a href="#spring-cloud-config">Coherence Spring Cloud Config</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="spring-boot-caching"><a class="anchor" href="#spring-boot-caching"></a>7.5. Using Coherence as Spring Caching Provider</h3>
<div class="paragraph">
<p>If caching is enabled via <code>@EnableCaching</code>, Coherence Autoconfiguration will it automatically provide a <code>CacheManager</code> to
the ApplicationContext, however only if no <code>CacheManager</code> was configured explicitly beforehand.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-cloud-config"><a class="anchor" href="#spring-cloud-config"></a>8. Coherence Spring Cloud Config</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains how to configure Coherence using <a href="https://spring.io/projects/spring-cloud-config/">Spring Cloud Config</a>. Furthermore,
this chapter also shows how to use <a href="https://coherence.community/">Coherence</a> as a Spring Cloud Config storage backend, allowing you
to set up Spring applications with configuration data stored in Coherence.</p>
</div>
<div class="sect2">
<h3 id="spring-cloud-config-overview"><a class="anchor" href="#spring-cloud-config-overview"></a>8.1. Overview</h3>
<div class="paragraph">
<p>Spring Cloud Config provides support for externalized configuration in distributed systems. It integrates seamlessly
with Spring Boot applications and allows you to externalize / centralize critical application properties. Spring Cloud
Config provides numerous storage backends for your configuration data and as part of Coherence Spring we also provide
a backend for Oracle Coherence.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Please familiarize yourself with the <a href="https://docs.spring.io/spring-cloud-config/docs/current/reference/html/">Spring Cloud Config reference documentation</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this chapter we will cover two aspects of Coherence-specific support for Spring Cloud Config:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configure Coherence and its Spring support using Spring Cloud Config</p>
</li>
<li>
<p>Use Oracle Coherence as a configuration backend for Spring Cloud Config and thus store your Configuration data in a
Coherence cluster</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s get started with an example to show the general functioning of Spring Cloud Config.</p>
</div>
</div>
<div class="sect2">
<h3 id="spring-cloud-config-demo"><a class="anchor" href="#spring-cloud-config-demo"></a>8.2. Demo</h3>
<div class="paragraph">
<p>This demo is essentially the same as is used in the <a href="#quickstart">Quickstart</a> chapter. However, we externalize some
Coherence configuration using Spring Cloud Config. The source code for the demo is part of the
<a href="https://github.com/coherence-community/coherence-spring/">Coherence Spring source code repository</a>. Therefore, to get started, please clone its repository:</p>
</div>
<div class="listingblock">
<div class="title">Clone the Spring Cloud Config demo project</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ git clone https://github.com/coherence-community/coherence-spring.git
 $ cd coherence-spring</code></pre>
</div>
</div>
<div class="paragraph">
<p>You now have checked out all the code for Coherence Spring. The relevant demo code for the Spring Cloud Config demo is
under <code>coherence-spring-samples/coherence-spring-cloud-config-demo/</code>. The demo consists of 2 Maven modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>coherence-spring-cloud-config-demo-server</strong>: Spring Cloud Config Server implementation</p>
</li>
<li>
<p><strong>coherence-spring-cloud-config-demo-app</strong>: Main application</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Config Server is essentially using 2 dependencies:</p>
</div>
<div class="listingblock">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;    <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;  <i class="conum" data-value="2"></i><b>(2)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Spring Cloud Config Server dependency</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Provides rudimentary security for the exposed configuration REST endpoints using
<a href="https://spring.io/projects/spring-security/">Spring Security</a></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The demo client on the other hand will use the following dependencies:</p>
</div>
<div class="listingblock">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.oracle.coherence.spring&lt;/groupId&gt;
    &lt;artifactId&gt;coherence-spring-boot-starter&lt;/artifactId&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;version&gt;{coherence-spring.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
    &lt;artifactId&gt;coherence&lt;/artifactId&gt;                     <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;version&gt;{coherence.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;   <i class="conum" data-value="3"></i><b>(3)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Provides all integration code, caching + autoconfiguration support</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The Oracle Coherence dependency</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The dependency to integrate with the Spring Cloud Config server</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We made the decision to not automatically bring in the Coherence dependencies. The main reason is that users can
specify the version they need, either the Oracle Coherence CE (OSS) or the commercial version.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="spring-cloud-config-demo-setup"><a class="anchor" href="#spring-cloud-config-demo-setup"></a>8.2.1. Configure the Demo Application</h4>
<div class="paragraph">
<p>In order to run the demo, we first need to create a Git repository that will contain
the configuration data.</p>
</div>
<div class="listingblock">
<div class="title">Setup the Config Data</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ cd /path/to/git/repo
 $ mkdir coherence-spring-config-repository
 $ cd coherence-spring-config-repository
 $ git init</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add a properties file called <code>config-client.properties</code>:</p>
</div>
<div class="listingblock">
<div class="title">config-client.properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"> coherence.logging.severity-level=6                                                     <i class="conum" data-value="1"></i><b>(1)</b>
 coherence.logging.destination=slf4j                                                    <i class="conum" data-value="2"></i><b>(2)</b>

 coherence.properties.coherence.cluster=Demo Cluster                                    <i class="conum" data-value="3"></i><b>(3)</b>
 coherence.properties.coherence.member=Demo Cluster Member                              <i class="conum" data-value="4"></i><b>(4)</b>
 coherence.properties.coherence.management.remote=true                                  <i class="conum" data-value="5"></i><b>(5)</b>
 coherence.properties.coherence.management=all                                          <i class="conum" data-value="6"></i><b>(6)</b>
 coherence.properties.coherence.management.report.autostart=true                        <i class="conum" data-value="7"></i><b>(7)</b>
 coherence.properties.coherence.reporter.output.directory=/path/to/reports/             <i class="conum" data-value="8"></i><b>(8)</b>
 coherence.properties.coherence.management.report.configuration=/reports/report-all.xml <i class="conum" data-value="9"></i><b>(9)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>-1</code> emits no log messages, <code>9</code> emits the most</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specifies the logger e.g. <code>stdout</code>, <code>log4j</code>, <code>log4j2</code>, <code>slf4j</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The name of the cluster</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The name of the cluster member</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Specifies whether this cluster node exposes its managed objects to remote MBean server. <code>true</code> or <code>false</code></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>none</code> means no MBean server is instantiated. <code>all</code> enables management of both local and remotely manageable cluster nodes.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code>true</code> or <code>false</code> (default) Specifies whether the Reporter automatically starts when the node starts.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>The output directory for generated reports. By default, reports are saved reports to the directory from which the cluster member starts.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>You can control which reports are generated by specifying a different report group configuration file. The pre-defined
reports are located at <code>coherence-21.06-M1.jar/reports</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more options please see the following three chapters in the official Oracle Coherence reference guide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.0//develop-applications/operational-configuration-elements.html">Operational Configuration Elements</a></p>
</li>
<li>
<p><a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.0//develop-applications/system-property-overrides.html">System Property Overrides</a></p>
</li>
<li>
<p><a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.0//manage/using-oracle-coherence-reporting.html">Using Oracle Coherence Reporting</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="spring-cloud-config-demo-how-to-run"><a class="anchor" href="#spring-cloud-config-demo-how-to-run"></a>8.2.2. Run the Demo Application</h4>
<div class="paragraph">
<p>Please execute the following:</p>
</div>
<div class="listingblock">
<div class="title">Start the Spring Cloud Config Server</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ ./mvnw clean package -pl :coherence-spring-cloud-config-demo-server
 $ cd coherence-spring-samples/coherence-spring-cloud-config-demo/coherence-spring-cloud-config-demo-server/target
 $ java -jar coherence-spring-cloud-config-demo-server-3.0.0-SNAPSHOT.jar \n
     --spring.cloud.config.server.git.uri=file:///path/to/git/repo</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Start the Coherence Spring Application</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"> $ ./mvnw clean package -pl :coherence-spring-cloud-config-demo-app
 $ cd coherence-spring-samples/coherence-spring-cloud-config-demo/coherence-spring-cloud-config-demo-app/target
 $ java -jar coherence-spring-cloud-config-demo-app-3.0.0-SNAPSHOT.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Feel free to change configuration settings and see, once you restart the apps, how the behavior of the Coherence cluster
changes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="spring-cloud-config-coherence"><a class="anchor" href="#spring-cloud-config-coherence"></a>8.3. Use Spring Cloud Config Server to Configure Coherence</h3>
<div class="paragraph">
<p>The previously discussed demo application illustrated the main concepts of using Spring Cloud Config Server as a
configuration backend for Oracle Coherence. For a general understanding of Spring Cloud Config Server, please consult
the respective <a href="https://docs.spring.io/spring-cloud-config/docs/current/reference/html/">reference documentation</a>.</p>
</div>
<div class="paragraph">
<p>Coherence Spring is essentially unaware of Spring Cloud Config Server. Coherence Spring merely takes advantage of Spring
Boot&#8217;s configuration facilities. The main integration point for configuration between Spring and
Oracle Coherence is the <code>SpringSystemPropertyResolver</code> class, which makes the properties of Spring&#8217;s <code>Environment</code> available
to Oracle Coherence.</p>
</div>
<div class="paragraph">
<p>When using Spring Boot (and not just plain Spring Framework), we also provide the <code>CoherenceProperties</code> class. It provides
means to expose Coherence Spring configuration options in a type-safe manner, to provide code completion via your IDE etc.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Providing dedicated CoherenceProperties support is work in progress.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Behind the scenes using <code>CoherenceProperties.getCoherencePropertiesAsMap()</code> will translate the explicit Spring Boot properties
into the property format used by Oracle Coherence. It is important to note that you can always provide ANY Oracle Coherence
property via the <code>coherence.properties.*</code> prefix.</p>
</div>
<div class="paragraph">
<p>For instance the following properties are equivalent:</p>
</div>
<div class="listingblock">
<div class="title">Equivalent Properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"> coherence.logging.severity-level=5
 coherence.logging.destination=log4j

 coherence.properties.coherence.log.level=5
 coherence.properties.coherence.log=log4j</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please also see <a href="#spring-boot-config-data-api">Coherence Support of the Spring Boot ConfigData API</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="spring-cloud-config-coherence-as-backend"><a class="anchor" href="#spring-cloud-config-coherence-as-backend"></a>8.4. Coherence as Spring Cloud Config Server Backend</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix"><a class="anchor" href="#appendix"></a>9. Appendices</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-04-04 05:20:22 UTC
</div>
</div>
<script type="text/javascript" src="js/tocbot/tocbot.min.js"></script>
<script type="text/javascript" src="js/toc.js"></script>
<link rel="stylesheet" href="js/highlight/styles/github.min.css">
<script src="js/highlight/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>