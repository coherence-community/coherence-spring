<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="Gunnar Hillert">
<title>Coherence Spring Reference Documentation</title>
<link rel="stylesheet" href="css/spring.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
.hidden {
	display: none;
}

.switch {
	border-width: 1px 1px 0 1px;
	border-style: solid;
	border-color: #7a2518;
	display: inline-block;
}

.switch--item {
	padding: 10px;
	background-color: #ffffff;
	color: #7a2518;
	display: inline-block;
	cursor: pointer;
}

.switch--item:not(:first-child) {
	border-width: 0 0 0 1px;
	border-style: solid;
	border-color: #7a2518;
}

.switch--item.selected {
	background-color: #7a2519;
	color: #ffffff;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script type="text/javascript">
function addBlockSwitches() {
	$('.primary').each(function() {
		primary = $(this);
		createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
		primary.children('.title').remove();
	});
	$('.secondary').each(function(idx, node) {
		secondary = $(node);
		primary = findPrimary(secondary);
		switchItem = createSwitchItem(secondary, primary.children('.switch'));
		switchItem.content.addClass('hidden');
		findPrimary(secondary).append(switchItem.content);
		secondary.remove();
	});
}

function createBlockSwitch(primary) {
	blockSwitch = $('<div class="switch"></div>');
	primary.prepend(blockSwitch);
	return blockSwitch;
}

function findPrimary(secondary) {
	candidate = secondary.prev();
	while (!candidate.is('.primary')) {
		candidate = candidate.prev();
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	blockName = block.children('.title').text();
	content = block.children('.content').first().append(block.next('.colist'));
	item = $('<div class="switch--item">' + blockName + '</div>');
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

function globalSwitch() {
	$('.switch--item').each(function() {
		var blockId = blockIdForSwitchItem($(this));
		$(this).off('click');
		$(this).on('click', function() {
			selectedText = $(this).text()
			window.localStorage.setItem(blockId, selectedText);
			$(".switch--item").filter(function() {
				return blockIdForSwitchItem($(this)) === blockId;
			}).filter(function() {
				return $(this).text() === selectedText;
			}).each(function() {
				select($(this))
			});
		});
		if ($(this).text() === window.localStorage.getItem(blockId)) {
			select($(this))
		}
	});
}

function blockIdForSwitchItem(item) {
	idComponents = []
	idComponents.push(item.text().toLowerCase());
	item.siblings(".switch--item").each(function(index, sibling) {
		idComponents.push($(sibling).text().toLowerCase());
	});
	return idComponents.sort().join("-")
}

function select(selected) {
	selected.addClass('selected');
	selected.siblings().removeClass('selected');
	selectedContent = selected.parent().siblings(".content").eq(selected.index())
	selectedContent.removeClass('hidden');
	selectedContent.siblings().addClass('hidden');
}

$(addBlockSwitches);
$(globalSwitch);

</script>

</head>
<body id="coherence-spring-reference-documentation" class="book toc2 toc-left">
<div id="header">
<h1>Coherence Spring Reference Documentation</h1>
<div class="details">
<span id="author" class="author">Gunnar Hillert</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#legal">Legal</a></li>
<li><a href="#coherence-spring-documentation">1. Coherence Spring Documentation</a>
<ul class="sectlevel2">
<li><a href="#about">1.1. About the Documentation</a></li>
<li><a href="#getting-help">1.2. Getting Help</a></li>
<li><a href="#news">1.3. What is new?</a></li>
<li><a href="#first-steps">1.4. First Steps</a></li>
</ul>
</li>
<li><a href="#quickstart">2. Quickstart</a></li>
<li><a href="#coherence-spring">3. Coherence Spring Core</a>
<ul class="sectlevel2">
<li><a href="#coherence-spring-introduction">3.1. Getting Started</a></li>
</ul>
</li>
<li><a href="#spring-cache">4. Coherence Spring Cache</a>
<ul class="sectlevel2">
<li><a href="#spring-cache-introduction">4.1. Introduction</a></li>
<li><a href="#spring-cache-configuration">4.2. Configuring Coherence Cache for Spring</a></li>
</ul>
</li>
<li><a href="#spring-session">5. Coherence Spring Session</a>
<ul class="sectlevel2">
<li><a href="#spring-session-introduction">5.1. Getting Started</a></li>
</ul>
</li>
<li><a href="#spring-data">6. Coherence Spring Data</a>
<ul class="sectlevel2">
<li><a href="#spring-data-introduction">6.1. Getting Started</a></li>
</ul>
</li>
<li><a href="#spring-boot">7. Coherence Spring Boot</a>
<ul class="sectlevel2">
<li><a href="#spring-boot-getting-started">7.1. Getting Started</a></li>
<li><a href="#spring-boot-introduction">7.2. Using Coherence with Spring Boot</a></li>
<li><a href="#using-coherence-as-spring-caching-provider">7.3. Using Coherence as Spring Caching Provider</a></li>
</ul>
</li>
<li><a href="#appendix">8. Appendices</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Version 3.0.0-SNAPSHOT</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="legal"><a class="anchor" href="#legal"></a>Legal</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Oracle licenses the Oracle Coherence Spring project under the
<a href="https://oss.oracle.com/licenses/upl/">The Universal Permissive License (UPL), Version 1.0</a>.</p>
</div>
<div class="paragraph">
<p><strong>The Universal Permissive License (UPL), Version 1.0</strong></p>
</div>
<div class="paragraph">
<p>Subject to the condition set forth below, permission is hereby granted to any
person obtaining a copy of this software, associated documentation and/or data
(collectively the "Software"), free of charge and under any and all copyright
rights in the Software, and any and all patent rights owned or freely
licensable by each licensor hereunder covering either (i) the unmodified
Software as contributed to or provided by such licensor, or (ii) the Larger
Works (as defined below), to deal in both</p>
</div>
<div class="paragraph">
<p>(a) the Software, and
(b) any piece of software and/or hardware listed in the lrgrwrks.txt file if
one is included with the Software (each a "Larger Work" to which the Software
is contributed by such licensors),</p>
</div>
<div class="paragraph">
<p>without restriction, including without limitation the rights to copy, create
derivative works of, display, perform, and distribute the Software and make,
use, sell, offer for sale, import, export, have made, and have sold the
Software and the Larger Work(s), and to sublicense the foregoing rights on
either these or other terms.</p>
</div>
<div class="paragraph">
<p>This license is subject to the following condition:
The above copyright notice and either this complete permission notice or at
a minimum a reference to the UPL must be included in all copies or
substantial portions of the Software.</p>
</div>
<div class="paragraph">
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coherence-spring-documentation"><a class="anchor" href="#coherence-spring-documentation"></a>1. Coherence Spring Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the reference documentation of <a href="https://github.com/coherence-community/coherence-spring">Coherence Spring</a>, a collection of several
libraries that will help you to integrate <a href="https://coherence.community">Coherence</a> with the wider <a href="https://spring.io">Spring</a> ecosystem.</p>
</div>
<div class="paragraph">
<p>This section provides a brief overview of the Coherence Spring reference documentation.</p>
</div>
<div class="sect2">
<h3 id="about"><a class="anchor" href="#about"></a>1.1. About the Documentation</h3>
<div class="paragraph">
<p>The Coherence Spring reference guide is available as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://spring.coherence.community//3.0.0-SNAPSHOT/refdocs/reference/html">Multi-page HTML</a></p>
</li>
<li>
<p><a href="http://spring.coherence.community//3.0.0-SNAPSHOT/refdocs/reference/htmlsingle">Single page HTML</a></p>
</li>
<li>
<p><a href="http://spring.coherence.community//3.0.0-SNAPSHOT/refdocs/reference/pdf/coherence-spring-reference.pdf">PDF</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="getting-help"><a class="anchor" href="#getting-help"></a>1.2. Getting Help</h3>
<div class="paragraph">
<p>If you have trouble with Spring Coherence, we would like to help.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Try the <a href="howto.html#howto">How-to documents</a>.
They provide solutions to the most common questions.</p>
</li>
<li>
<p>Learn the Coherence basics.
All Spring Coherence module directly support Oracle Coherence.
Check the <a href="https://coherence.community">Coherence CE</a> web-site for general Coherence
targeted reference documentation.</p>
</li>
<li>
<p>Learn the Spring basics.
Spring Coherence builds on several other Spring projects.
Check the <a href="https://spring.io">spring.io</a> web-site for general reference documentation.
If you are starting out with Spring, try one of the <a href="https://spring.io/guides">guides</a>.</p>
</li>
<li>
<p>Ask a question.
Chat with us directly on <a href="https://join.slack.com/t/oraclecoherence/shared_invite/zt-9ufv220y-Leudk0o5ntgNV0xraa8DNw">Slack</a>.
We also monitor <a href="https://stackoverflow.com">stackoverflow.com</a> for questions tagged with
<a href="https://stackoverflow.com/tags/oracle-coherence">oracle-coherence</a>.</p>
</li>
<li>
<p>Report bugs with Spring Coherence via <a href="https://github.com/coherence-community/coherence-spring/issues/">GitHub Issues</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All of Coherence Spring is open source, including the documentation.
If you find problems with the docs or if you want to improve them, please <a href="https://github.com/coherence-community/coherence-spring">get involved</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="news"><a class="anchor" href="#news"></a>1.3. What is new?</h3>
<div class="paragraph">
<p>In order to see what changes were made from earlier versions of Coherence Spring,
see the <a href="http://spring.coherence.community//3.0.0-SNAPSHOT//history.html">Change History</a> as well as the
<a href="https://github.com/coherence-community/coherence-spring/releases">GitHub Releases</a> page.</p>
</div>
</div>
<div class="sect2">
<h3 id="first-steps"><a class="anchor" href="#first-steps"></a>1.4. First Steps</h3>
<div class="paragraph">
<p>If you are getting started with Spring Boot or 'Spring' in general, start with <a href="getting-started.html#getting-started">the following topics</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>From scratch:</strong> <a href="getting-started.html#getting-started-introducing-spring-boot">Overview</a> | <a href="getting-started.html#getting-started-system-requirements">Requirements</a> | <a href="getting-started.html#getting-started-installing-spring-boot">Installation</a></p>
</li>
<li>
<p><strong>Tutorial:</strong> <a href="getting-started.html#getting-started-first-application">Part 1</a> | <a href="getting-started.html#getting-started-first-application-code">Part 2</a></p>
</li>
<li>
<p><strong>Running your example:</strong> <a href="getting-started.html#getting-started-first-application-run">Part 1</a> | <a href="getting-started.html#getting-started-first-application-executable-jar">Part 2</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quickstart"><a class="anchor" href="#quickstart"></a>2. Quickstart</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We provide various demos to illustrate basic usage of Oracle Coherence when using it with
Spring:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/ghillert/coherence-spring-demo">Coherence Spring Demo</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This repository contains essentially 2 versions of the same app:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>coherence-spring-demo-classic</code> Provides a demo using Spring Framework without Spring Boot</p>
</li>
<li>
<p><code>coherence-spring-demo-boot</code> Provide a demo using Spring Boot</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coherence-spring"><a class="anchor" href="#coherence-spring"></a>3. Coherence Spring Core</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Core module. Coherence Spring Core
provides the basic support support for the <a href="https://spring.io/projects/spring-framework">Spring Framework</a>.</p>
</div>
<div class="sect2">
<h3 id="coherence-spring-introduction"><a class="anchor" href="#coherence-spring-introduction"></a>3.1. Getting Started</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-cache"><a class="anchor" href="#spring-cache"></a>4. Coherence Spring Cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Cache module. It explains how to use
Coherence&#8217;s support for the Spring Framework&#8217;s <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache">Cache Abstraction</a>.</p>
</div>
<div class="sect2">
<h3 id="spring-cache-introduction"><a class="anchor" href="#spring-cache-introduction"></a>4.1. Introduction</h3>
<div class="paragraph">
<p>Spring provides its own cache abstraction, allowing you to add caching to
Java methods. Coherence Spring provides an implementation of this abstraction for
Oracle Coherence.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Spring&#8217;s Cache abstraction also supports JSR-107 which is also supported by
Oracle Coherence. As such you have another alternative for setting up caching.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="spring-cache-configuration"><a class="anchor" href="#spring-cache-configuration"></a>4.2. Configuring Coherence Cache for Spring</h3>
<div class="paragraph">
<p>As a start, please familiarize yourself with Spring&#8217;s Cache Abstraction by reading the
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache">relevant section</a>
of Spring&#8217;s reference documentation.</p>
</div>
<div class="listingblock primary">
<div class="title">Properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">example.property.alpha=a</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">example:
  property:
    alpha: a</code></pre>
</div>
</div>
<div class="listingblock primary">
<div class="title">Properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">spring.devtools.restart.exclude=static/**,public/**</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">spring:
  devtools:
    restart:
      exclude: "static/**,public/**"</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 1. Creating a CoherenceInstance</div>
<div class="content">
<div class="listingblock primary">
<div class="title">Java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
@EnableCaching
public class CacheConfiguration {

    @Bean
    public CoherenceInstance coherenceInstance() {
      return new CoherenceInstance();
    }

    @Bean
    public CacheManager cacheManager(CoherenceInstance coherenceInstance) {
      return new CoherenceCacheManager(coherenceInstance);
    }
}</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">XML</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:cache="http://www.springframework.org/schema/cache"
  xsi:schemaLocation="
    http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/cache https://www.springframework.org/schema/cache/spring-cache.xsd"&gt;

  &lt;cache:annotation-driven/&gt;

  &lt;bean id="coherenceInstance" class="com.oracle.coherence.spring.CoherenceInstance"/&gt;

  &lt;bean id="cacheManager" class="com.oracle.coherence.spring.cache.CoherenceCacheManager"&gt;
    &lt;constructor-arg ref="coherenceInstance"/&gt;
  &lt;/bean&gt;
&lt;/beans&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-session"><a class="anchor" href="#spring-session"></a>5. Coherence Spring Session</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Session module. It explains how to use
Coherence&#8217;s support for <a href="https://docs.spring.io/spring-session/docs/curent/reference/html5/">Spring Session</a>.</p>
</div>
<div class="sect2">
<h3 id="spring-session-introduction"><a class="anchor" href="#spring-session-introduction"></a>5.1. Getting Started</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-data"><a class="anchor" href="#spring-data"></a>6. Coherence Spring Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Data module. It explains how to use
Coherence&#8217;s support for <a href="https://docs.spring.io/spring-session/docs/curent/reference/html5/">Spring Data</a> repositories.</p>
</div>
<div class="sect2">
<h3 id="spring-data-introduction"><a class="anchor" href="#spring-data-introduction"></a>6.1. Getting Started</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-boot"><a class="anchor" href="#spring-boot"></a>7. Coherence Spring Boot</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section dives into the Coherence Spring Boot module. It explains how to use
Coherence&#8217;s dedicated support for <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Boot</a>, e.g. Autoconfiguration.</p>
</div>
<div class="sect2">
<h3 id="spring-boot-getting-started"><a class="anchor" href="#spring-boot-getting-started"></a>7.1. Getting Started</h3>
<div class="listingblock">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.oracle.coherence.spring&lt;/groupId&gt;
        &lt;artifactId&gt;coherence-spring-boot-starter&lt;/artifactId&gt;
        &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">dependencies {
    compile("com.oracle.coherence.spring:coherence-spring-boot-starter:3.0.0-SNAPSHOT")
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="spring-boot-introduction"><a class="anchor" href="#spring-boot-introduction"></a>7.2. Using Coherence with Spring Boot</h3>

</div>
<div class="sect2">
<h3 id="using-coherence-as-spring-caching-provider"><a class="anchor" href="#using-coherence-as-spring-caching-provider"></a>7.3. Using Coherence as Spring Caching Provider</h3>
<div class="paragraph">
<p>Coherence provides dedicated support for Spring Boot in order to further simplify
configuration options for Spring.</p>
</div>
<div class="paragraph">
<p>If caching is enabled via <code>@EnableCaching</code>, Coherence Autoconfiguration will it
automatically provide a <code>CacheManager</code> to the ApplicationContext, however only if
no <code>CacheManager</code> was configured explicitly beforehand.</p>
</div>
<div class="paragraph">
<p>Caches can be created on startup by setting the property.
If a custom <code>ConfigurationBuilder</code> bean is defined, it is used to customize the caches.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The support of Infinispan in Spring Boot is restricted to the embedded mode and is quite basic.
If you want more options, you should use the official Infinispan Spring Boot starter instead.
See <a href="https://github.com/infinispan/infinispan-spring-boot">Infinispan&#8217;s documentation</a> for more details.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix"><a class="anchor" href="#appendix"></a>8. Appendices</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-12-21 10:11:57 UTC
</div>
</div>
<script type="text/javascript" src="js/tocbot/tocbot.min.js"></script>
<script type="text/javascript" src="js/toc.js"></script>
<link rel="stylesheet" href="js/highlight/styles/github.min.css">
<script src="js/highlight/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>